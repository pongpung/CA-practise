<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICAB Accounting Exam – Chapter 13: Statement of Cash Flows</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: auto;
            padding: 20px;
            display: flex;
            gap: 24px;
        }
        .main-content {
            flex-grow: 1;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 24px;
        }
        .sidebar {
            width: 250px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 24px;
            position: sticky;
            top: 20px;
            align-self: flex-start;
        }
        .question-tracker {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }
        .tracker-item {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            border: 1px solid #e5e7eb;
            transition: all 0.2s ease-in-out;
        }
        .tracker-item.answered { background-color: #4CAF50; color: white; }
        .tracker-item.flagged { background-color: #F44336; color: white; }
        .tracker-item.current { border: 2px solid #3b82f6; }
        .option-button {
            width: 100%;
            text-align: left;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
            transition: background-color 0.2s;
            cursor: pointer;
        }
        .option-button:hover {
            background-color: #f3f4f6;
        }
        .option-button.selected {
            background-color: #d1e5ff;
            border-color: #3b82f6;
        }
        .multi-select.selected {
            background-color: #d1e5ff;
            border-color: #3b82f6;
        }
        .correct-answer {
            background-color: #dcfce7;
            border-color: #22c55e;
        }
        .user-selected-wrong {
            background-color: #fee2e2;
            border-color: #ef4444;
        }
        .footer-credit a {
            color: #3b82f6;
            text-decoration: none;
        }
        .footer-credit a:hover {
            text-decoration: underline;
        }
        .progress-bar-container {
            width: 100%;
            background-color: #e5e7eb;
            border-radius: 9999px;
            overflow: hidden;
        }
        .progress-bar {
            height: 8px;
            background-color: #3b82f6;
            transition: width 0.3s ease-in-out;
        }
        .pulse-animation {
            animation: pulse-ring 1.2s cubic-bezier(0.2, 0, 0.8, 1) infinite;
        }

        @keyframes pulse-ring {
            0% {
                transform: scale(0.33);
            }
            80%, 100% {
                opacity: 0;
            }
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">

<div id="quiz-container" class="container">
    <!-- Left Sidebar -->
    <div class="sidebar hidden md:block">
        <h2 class="text-xl font-bold mb-4 text-center">Question Tracker</h2>
        <div class="question-tracker mb-4">
            <!-- Tracker items will be generated by JS -->
        </div>
        <div class="p-4 bg-gray-50 rounded-lg text-sm text-gray-700">
            <div class="flex items-center mb-2">
                <span class="w-4 h-4 rounded-full bg-white border border-gray-300 mr-2"></span>
                <span>Not Answered</span>
            </div>
            <div class="flex items-center mb-2">
                <span class="w-4 h-4 rounded-full bg-green-500 mr-2"></span>
                <span>Answered</span>
            </div>
            <div class="flex items-center">
                <span class="w-4 h-4 rounded-full bg-red-500 mr-2"></span>
                <span>Flagged for Review</span>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
        <div id="quiz-header" class="flex justify-between items-center mb-6 border-b pb-4">
            <h1 class="text-2xl font-bold text-gray-800">ICAB Accounting Exam – Chapter 13: Statement of Cash Flows</h1>
            <div class="text-right">
                <div id="timer" class="text-3xl font-bold text-gray-900">45:00</div>
                <div class="text-sm text-gray-500">Time Remaining</div>
            </div>
        </div>

        <div id="quiz-area">
            <!-- Question and options will be displayed here -->
            <div class="p-6 text-center text-gray-500">
                <svg class="animate-spin h-10 w-10 text-blue-500 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                <p class="mt-4">Loading quiz questions...</p>
            </div>
        </div>

        <div id="quiz-nav" class="flex justify-between items-center mt-6 pt-4 border-t">
            <button id="prev-btn" class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg font-semibold hover:bg-gray-400 transition-colors hidden">&lt; Previous</button>
            <div class="flex items-center space-x-4">
                <button id="flag-btn" class="bg-yellow-400 text-gray-800 px-6 py-2 rounded-lg font-semibold hover:bg-yellow-500 transition-colors flex items-center">
                    <svg class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm-1-9a1 1 112 0v2a1 1 11-2 0V9zm1 4a1 1 100 2 1 100-2z" clip-rule="evenodd" fill-rule="evenodd"></path></svg>
                    Flag
                </button>
                <button id="submit-btn" class="bg-green-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors">Submit Quiz</button>
            </div>
            <button id="next-btn" class="bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors">Next &gt;</button>
        </div>

        <div id="results-area" class="mt-6 hidden">
            <!-- Results will be displayed here after submission -->
        </div>

    </div>
</div>

<script>
    const quizData = [
    {
        questionNumber: 1,
        questionText: "What is the primary objective of a Statement of Cash Flows according to IAS 7?",
        options: {
            A: "To show the company's profitability over a period.",
            B: "To provide historical information about changes in cash and cash equivalents.",
            C: "To provide a basis for assessing a company's financial position at a specific date.",
            D: "To report the changes in equity for a period."
        },
        correctAnswer: "B",
        explanation: "According to IAS 7, the objective is to provide historical information on cash and cash equivalents, classifying cash flows into operating, investing, and financing activities to help users assess the entity's ability to generate cash.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 2,
        questionText: "Which of the following would be considered 'cash equivalents' under IAS 7?",
        options: {
            A: "Highly liquid investments with a maturity of more than three months.",
            B: "Equity investments in other entities.",
            C: "Short-term, highly liquid investments subject to an insignificant risk of changes in value.",
            D: "Trade receivables due within one month."
        },
        correctAnswer: "C",
        explanation: "The PDF defines cash equivalents as 'short-term, highly liquid investments that are readily convertible to known amounts of cash and which are subject to an insignificant risk of changes in value (maturity of three months or less from the date of acquisition).'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 3,
        questionText: "Which of the following statements about the purpose of a Statement of Cash Flows is TRUE?",
        options: {
            A: "It is an integral part of the financial statements and is required for all entities in Bangladesh, regardless of size or listing status.",
            B: "It is only required for listed companies.",
            C: "It is used primarily to calculate a company's accounting profit.",
            D: "It is not affected by differing accounting policies, which enhances comparability."
        },
        correctAnswer: "A, D",
        explanation: "The PDF states that 'IAS 7 requires all entities to include a statement of cash flows as an integral part of their financial statements.' and 'Statements of cash flows enhance comparability as they are not affected by differing accounting policies used for the same type of transactions or events.'",
        type: "Multi-Select"
    },
    {
        questionNumber: 4,
        questionText: "Why might a user of financial statements be misled by a reported profit figure, according to the provided text?",
        options: {
            A: "Profit does not always represent the amount of cash a company has made.",
            B: "Profit is an unreliable indicator of a company's long-term performance.",
            C: "Profit includes non-cash items like depreciation.",
            D: "All of the above."
        },
        correctAnswer: "D",
        explanation: "The PDF states that users might misinterpret profit as being representative of cash and that survival depends more on cash flows than on profits. It also mentions that profit and loss items are included, which implies non-cash items affect it.",
        type: "All of the above"
    },
    {
        questionNumber: 5,
        questionText: "A company's future performance and prospects depend more realistically on its ____________ than on its 'profits' earned in a period.",
        options: {
            A: "retained earnings",
            B: "capital structure",
            C: "liquidity or cash flows",
            D: "market share"
        },
        correctAnswer: "C",
        explanation: "The PDF explicitly states that a company's future performance and prospects depend more realistically on 'liquidity or cash flows'.",
        type: "Fill in the Blank"
    },
    {
        questionNumber: 6,
        questionText: "In the context of the Statement of Cash Flows, 'Operating activities' are primarily derived from:",
        options: {
            A: "Acquisition and disposal of non-current assets.",
            B: "The principal revenue-producing activities of the entity.",
            C: "Activities that result in changes in equity capital and borrowings.",
            D: "All of the above."
        },
        correctAnswer: "B",
        explanation: "The PDF defines operating activities as being 'the principal revenue-producing activities of the entity and other activities that are not investing or financing activities.'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 7,
        questionText: "Which of the following cash flows is NOT a component of cash flows from operating activities?",
        options: {
            A: "Cash receipts from the sale of goods and services.",
            B: "Cash payments to suppliers.",
            C: "Cash payments to acquire non-current assets.",
            D: "Cash payments to and on behalf of employees."
        },
        correctAnswer: "C",
        explanation: "The PDF classifies 'cash payments to acquire property, plant and equipment' as cash flows from investing activities.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 8,
        questionText: "Which method of calculating cash generated from operations is considered more easily understood by users, though it is not compulsory?",
        options: {
            A: "The Indirect Method",
            B: "The Direct Method",
            C: "The Hybrid Method",
            D: "The Reconciliation Method"
        },
        correctAnswer: "B",
        explanation: "The PDF states, 'The direct method is preferred by IAS 7, as it is more easily understood by the users, but is not compulsory.'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 9,
        questionText: "When preparing a Statement of Cash Flows using the Indirect Method, a profit on the disposal of a non-current asset should be:",
        options: {
            A: "Added back to profit before tax.",
            B: "Deducted from profit before tax.",
            C: "Ignored, as it is a non-cash item.",
            D: "Added to the proceeds on disposal in Investing Activities."
        },
        correctAnswer: "B",
        explanation: "The PDF's reconciliation table and explanation show that a profit on disposal is a non-cash gain that is included in the profit figure, so it must be deducted to reverse its effect and arrive at cash generated from operations.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 10,
        questionText: "What is the reason for adding back depreciation to profit before tax when using the Indirect Method?",
        options: {
            A: "Depreciation is an expense but it also generates cash.",
            B: "Depreciation is a non-cash expense that was deducted to arrive at profit.",
            C: "Depreciation increases the value of assets, which is a cash inflow.",
            D: "None of the above."
        },
        correctAnswer: "B",
        explanation: "The PDF explains: 'Depreciation, amortisation and impairment losses are not cash expenses, but are deducted in arriving at the profit figure in the statement of profit or loss. It makes sense, therefore, to add them back to profit before tax to eliminate the impact of these non-cash expenses.'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 11,
        questionText: "In the reconciliation of profit to cash from operations, a decrease in trade and other payables indicates:",
        options: {
            A: "A positive cash flow, as the company has less debt.",
            B: "A negative cash flow, as the company has used cash to pay off suppliers.",
            C: "A non-cash item with no effect on cash flow.",
            D: "An increase in cash from operations."
        },
        correctAnswer: "B",
        explanation: "The PDF states, 'If a company pays off its payables, causing the figure to decrease, again it has less cash.' This represents a cash outflow.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 12,
        questionText: "How are interest paid and income tax paid typically classified in a Statement of Cash Flows for an ICAB exam?",
        options: {
            A: "Both are always classified under Investing Activities.",
            B: "Both are always classified under Financing Activities.",
            C: "Both are typically classified under Operating Activities.",
            D: "Interest is Operating, Tax is Financing."
        },
        correctAnswer: "C",
        explanation: "The PDF states, 'For the purposes of Accounting, we will always assume interest paid is presented in operating activities.' and 'Income tax payments relate to profits from operations and so they are a cash flow from operating activities.'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 13,
        questionText: "If a company’s trade and other receivables increased during the year, what is the effect on cash generated from operations?",
        options: {
            A: "Increase",
            B: "Decrease",
            C: "No effect",
            D: "It depends on the company’s credit policy"
        },
        correctAnswer: "B",
        explanation: "An increase in receivables means that more of the revenue has not been collected in cash, which decreases cash from operations. The PDF states: 'An increase in receivables means that more of the revenue included in profit before tax has not been collected and therefore the company has less cash.'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 14,
        questionText: "A company’s accruals increased during the year. What is the effect on cash from operations?",
        options: {
            A: "Positive, as cash has been retained.",
            B: "Negative, as cash has been paid out.",
            C: "No effect, as accruals are a non-cash liability.",
            D: "It is a financing activity."
        },
        correctAnswer: "A",
        explanation: "The PDF states, 'Accruals result in cash being paid out after expenses are incurred and therefore an increase in accruals is positive for a company's cash flow.'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 15,
        questionText: "An increase in a company's inventories would be treated as a/an ____________ in the reconciliation of profit to cash from operations.",
        options: {
            A: "addition",
            B: "deduction",
            C: "non-cash item",
            D: "investing activity"
        },
        correctAnswer: "B",
        explanation: "The PDF states that an increase in inventory means the company has spent cash, which is a deduction from profit to arrive at cash from operations.",
        type: "Fill in the Blank"
    },
    {
        questionNumber: 16,
        questionText: "In the context of preparing a Statement of Cash Flows, what is the key difference between the Direct and Indirect methods?",
        options: {
            A: "The Direct method is used for investing and financing activities, while the Indirect is for operating activities.",
            B: "The Indirect method is used for public companies, while the Direct method is for private companies.",
            C: "The Direct method shows gross cash receipts and payments, while the Indirect method reconciles profit to cash generated from operations.",
            D: "There is no significant difference, only a different layout."
        },
        correctAnswer: "C",
        explanation: "The PDF clearly distinguishes the two: the Direct method shows gross cash flows from customers, suppliers, and employees, while the Indirect method is a reconciliation of profit before tax.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 17,
        questionText: "A company’s statement of profit or loss shows a loss on the disposal of a non-current asset. How is this treated in the Statement of Cash Flows?",
        options: {
            A: "Added back to profit before tax and included in investing activities as a cash outflow.",
            B: "Added back to profit before tax, and the cash proceeds are shown as a cash inflow in investing activities.",
            C: "Deducted from profit before tax and the cash proceeds are shown in investing activities.",
            D: "The entire loss is a cash outflow in investing activities."
        },
        correctAnswer: "B",
        explanation: "The PDF states: 'a loss on a disposal of a non-current asset... needs to be added back' to profit from operations, and 'The proceeds received are a cash flow, but they are presented in the investing activities section.'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 18,
        questionText: "What does the statement of cash flows concentrate on, which makes it a useful indicator of liquidity and solvency?",
        options: {
            A: "The sources and uses of non-current assets.",
            B: "The sources and uses of cash.",
            C: "The changes in net assets.",
            D: "The changes in equity."
        },
        correctAnswer: "B",
        explanation: "The PDF states: 'The statement of cash flows concentrates on the sources and uses of cash and is a useful indicator of liquidity and solvency.'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 19,
        questionText: "According to the PDF, a bank interested in providing a loan to a company would be interested in its Statement of Cash Flows primarily because:",
        options: {
            A: "It shows the company’s total assets and liabilities.",
            B: "It indicates the company's ability to pay its debts when they fall due.",
            C: "It shows the company's historical profit trend.",
            D: "It indicates the company's market capitalization."
        },
        correctAnswer: "B",
        explanation: "The document highlights that 'Survival of a business entity depends not so much on profits as on its ability to pay its debts when they fall due.' This is the core reason a lender would be interested in cash flows.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 20,
        questionText: "Which of the following is considered a 'Financing activity'?",
        options: {
            A: "The sale of property, plant, and equipment.",
            B: "The payment of interest.",
            C: "The repayment of loan capital.",
            D: "The purchase of inventories."
        },
        correctAnswer: "C",
        explanation: "The PDF defines financing activities as those that 'result in changes in the size and composition of the equity capital and borrowings of the entity,' and also mentions 'the repayment of loan capital' in the context of cash flows needed to pay debts.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 21,
        questionText: "Which of the following statements about Provisions is TRUE in the context of cash flow statements?",
        options: {
            A: "An increase in provisions is a cash outflow.",
            B: "Provisions are non-cash flows; the cash flow occurs when the related expense is paid.",
            C: "An increase in a provision is deducted from profit to calculate cash from operations.",
            D: "Provisions are classified as a financing activity."
        },
        correctAnswer: "B",
        explanation: "The PDF states: 'Provisions are not cash flows - the cash flow occurs when the related expense is paid.' It also indicates an increase in provision is added back to profit.",
        type: "True False"
    },
    {
        questionNumber: 22,
        questionText: "True or False: The format of the Statement of Cash Flows under FRS 102 is the same as the IAS 7 format.",
        options: {
            A: "True",
            B: "False"
        },
        correctAnswer: "A",
        explanation: "The PDF's 'UK GAAP alert!' states, 'The format of the statement of cash flows under FRS 102 is the same as the IAS 7 format.'",
        type: "True False"
    },
    {
        questionNumber: 23,
        questionText: "According to the provided text, who is exempt from preparing a Statement of Cash Flows?",
        options: {
            A: "All unlisted companies.",
            B: "Entities eligible for disclosure exemptions under FRS 102.",
            C: "Small companies with turnover below a certain threshold.",
            D: "Newly incorporated companies in their first year of trading."
        },
        correctAnswer: "B",
        explanation: "The PDF explicitly states, 'Entities eligible for disclosure exemptions under FRS 102 are also exempt from the preparation of a statement of cash flows.'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 24,
        questionText: "Which of the following is an example of an 'Investing activity'?",
        options: {
            A: "Cash receipts from royalties.",
            B: "Cash receipts from the sale of property, plant, and equipment.",
            C: "Cash payments for wages and salaries.",
            D: "Cash dividends paid to shareholders."
        },
        correctAnswer: "B",
        explanation: "The PDF defines investing activities as 'the cash flows derived from acquisition and disposal of non-current assets and other investments'. The sale of PPE falls under this category.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 25,
        questionText: "The main purpose of classifying cash flows is to provide information to users about:",
        options: {
            A: "The company's profit and loss items.",
            B: "The entity's ability to adapt to changing circumstances.",
            C: "The entity's ability to generate cash and cash equivalents.",
            D: "The company's historical share price."
        },
        correctAnswer: "C",
        explanation: "The objective of IAS 7 is to provide information about the 'entity's ability to generate cash and cash equivalents, as well as indicating the cash needs of the entity.'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 26,
        questionText: "Which of the following is NOT a benefit of a Statement of Cash Flows, as per the provided text?",
        options: {
            A: "It helps in assessing a company’s ability to pay its debts.",
            B: "It helps to assess the company's future stock price.",
            C: "It helps in assessing a company's ability to adapt to changing circumstances.",
            D: "It enhances comparability between companies with different accounting policies."
        },
        correctAnswer: "B",
        explanation: "The PDF lists a company's ability to pay debts, adapt to changing circumstances, and enhance comparability as benefits. It does not mention predicting stock price.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 27,
        questionText: "A company’s financial statements show the following:<br/>Profit before tax: $500,000<br/>Depreciation charge: $150,000<br/>Loss on disposal of non-current asset: $20,000<br/>Decrease in inventories: $30,000<br/>Increase in trade receivables: $80,000<br/>What is the cash generated from operations?",
        options: {
            A: "$620,000",
            B: "$600,000",
            C: "$580,000",
            D: "$780,000"
        },
        correctAnswer: "A",
        explanation: "Profit before tax ($500,000) + Depreciation ($150,000) + Loss on disposal ($20,000) + Decrease in inventories ($30,000) - Increase in receivables ($80,000) = $620,000.",
        type: "Calculation-based MCQ"
    },
    {
        questionNumber: 28,
        questionText: "A company had Interest payable of $45,000 at the start of the year and $60,000 at the end of the year. The finance cost for the year was $120,000. How much interest was paid during the year?",
        options: {
            A: "$105,000",
            B: "$135,000",
            C: "$15,000",
            D: "$120,000"
        },
        correctAnswer: "A",
        explanation: "Interest Paid = Opening Balance ($45,000) + Finance Cost ($120,000) - Closing Balance ($60,000) = $105,000. This is the balancing figure from the T-account.",
        type: "Calculation-based MCQ"
    },
    {
        questionNumber: 29,
        questionText: "A company’s accounts show that at 31 December 20X7, it had property, plant and equipment at cost of $7,800,000. It disposed of assets with a cost of $950,000 during the year and its cost at 31 December 20X6 was $6,000,000. Calculate the cash payment for the purchase of PPE.",
        options: {
            A: "$1,800,000",
            B: "$2,750,000",
            C: "$1,850,000",
            D: "$2,650,000"
        },
        correctAnswer: "B",
        explanation: "Purchases = Closing PPE Cost + Disposals - Opening PPE Cost. Therefore, $7,800,000 + $950,000 - $6,000,000 = $2,750,000.",
        type: "Calculation-based MCQ"
    },
    {
        questionNumber: 30,
        questionText: "A company had income tax payable of $800,000 at the start of the year and $950,000 at the end of the year. The income tax charge for the year was $1,100,000. What was the amount of income tax paid during the year?",
        options: {
            A: "$1,250,000",
            B: "$950,000",
            C: "$1,100,000",
            D: "$1,050,000"
        },
        correctAnswer: "B",
        explanation: "Income Tax Paid = Opening Payable + Charge for the year - Closing Payable. Therefore, $800,000 + $1,100,000 - $950,000 = $950,000.",
        type: "Calculation-based MCQ"
    },
    {
        questionNumber: 31,
        questionText: "A company sold an asset with an original cost of $120,000 and accumulated depreciation of $90,000 for a loss of $10,000. What were the cash proceeds from the sale?",
        options: {
            A: "$20,000",
            B: "$30,000",
            C: "$40,000",
            D: "$10,000"
        },
        correctAnswer: "A",
        explanation: "Carrying amount = Cost ($120,000) - Accumulated Depreciation ($90,000) = $30,000. Proceeds = Carrying Amount - Loss = $30,000 - $10,000 = $20,000.",
        type: "Calculation-based MCQ"
    },
    {
        questionNumber: 32,
        questionText: "Interest received may be presented in either operating activities or investing activities. For the purpose of the ICAB Accounting exam, it is always assumed to be presented in:",
        options: {
            A: "Operating activities",
            B: "Investing activities",
            C: "Financing activities",
            D: "A note to the accounts"
        },
        correctAnswer: "B",
        explanation: "The PDF states: 'for the purposes of Accounting, we will always assume interest received is presented in investing activities.'",
        type: "Fill in the blank"
    },
    {
        questionNumber: 33,
        questionText: "Which of the following is classified under 'Financing Activities'?",
        options: {
            A: "Proceeds from the issue of share capital.",
            B: "Cash payments to acquire property, plant, and equipment.",
            C: "Dividends received.",
            D: "Cash payments to suppliers."
        },
        correctAnswer: "A",
        explanation: "The PDF defines financing activities as those that 'result in changes in the size and composition of the equity capital and borrowings of the entity,' and an issue of shares is a direct example of this.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 34,
        questionText: "A statement of cash flows is a useful addition to the financial statements because:",
        options: {
            A: "It explains the difference between profit and cash flow.",
            B: "Accounting profit is not the only indicator of performance.",
            C: "It is an indicator of liquidity and solvency.",
            D: "All of the above."
        },
        correctAnswer: "D",
        explanation: "The PDF lists all of these as reasons why the statement of cash flows is useful.",
        type: "All of the above"
    },
    {
        questionNumber: 35,
        questionText: "A company’s statement of financial position shows the following:<br/>Prepayments:<br/>20X6: $1,200<br/>20X7: $1,800<br/>How would this be treated in the Statement of Cash Flows (Indirect Method)?",
        options: {
            A: "Added back to profit before tax as a cash inflow.",
            B: "Deducted from profit before tax as a cash outflow.",
            C: "Ignored, as it is a non-cash item.",
            D: "Classified as an investing activity."
        },
        correctAnswer: "B",
        explanation: "An increase in prepayments means more cash has been paid out before the expense is incurred, which is a deduction from profit. The PDF states: 'Prepayments result in cash being paid out before expenses are incurred and therefore an increase in prepayments is negative for a company's cash flow.'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 36,
        questionText: "The objective of IAS 7 is to classify cash flows into which three categories?",
        options: {
            A: "Short-term, Medium-term, and Long-term activities.",
            B: "Operational, Financial, and Management activities.",
            C: "Operating, Investing, and Financing activities.",
            D: "Revenue, Expense, and Capital activities."
        },
        correctAnswer: "C",
        explanation: "The PDF explicitly states the objective of IAS 7 is to classify cash flows as 'operating, investing and financing activities'.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 37,
        questionText: "Which of the following are cash flows from investing activities?",
        options: {
            A: "Cash receipts from sales of equity or debt of other entities.",
            B: "Dividends received.",
            C: "Both A and B.",
            D: "None of the above."
        },
        correctAnswer: "C",
        explanation: "The PDF lists both 'cash receipts from sales of equity or debt of other entities' and 'dividends received' under Investing activities.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 38,
        questionText: "A company’s financial statements show the following:<br/>Increase in accruals: $50,000<br/>Decrease in provisions: $20,000<br/>Increase in trade payables: $80,000<br/>Which of these items would increase cash generated from operations?",
        options: {
            A: "Increase in accruals and increase in trade payables only.",
            B: "Increase in accruals, decrease in provisions, and increase in trade payables.",
            C: "Increase in accruals only.",
            D: "None of the above."
        },
        correctAnswer: "A",
        explanation: "An increase in accruals and trade payables means expenses have been incurred but not yet paid, which increases cash from operations. A decrease in provisions indicates a cash outflow, which decreases cash from operations.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 39,
        questionText: "True or False: The preparation of a Statement of Cash Flows can be a long-form question in the ICAB Accounting exam.",
        options: {
            A: "True",
            B: "False"
        },
        correctAnswer: "A",
        explanation: "The PDF states that you 'could either be asked to produce a full statement of cash flows in the long form questions, or to prepare extracts and/or to answer a number of multiple choice questions.'",
        type: "True False"
    },
    {
        questionNumber: 40,
        questionText: "A Statement of Cash Flows is useful in providing users with a basis to assess a company’s ability to generate cash and cash equivalents, and its cash needs. This is a direct quote from:",
        options: {
            A: "The introduction of the chapter.",
            B: "IAS 7, Objective.",
            C: "The section on Examination Context.",
            D: "The summary of the chapter."
        },
        correctAnswer: "B",
        explanation: "This is a direct quote from the 'IAS 7, Objective' section of the PDF.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 41,
        questionText: "Which of the following best describes the 'direct method' of preparing a cash flow statement?",
        options: {
            A: "Starting with profit before tax and making adjustments for non-cash items.",
            B: "Showing major classes of gross cash receipts and payments.",
            C: "Reconciling profit to cash generated from operations.",
            D: "Calculating the cash flow for each individual transaction."
        },
        correctAnswer: "B",
        explanation: "The PDF's section on the Direct Method shows a table of 'Cash received from customers' and 'Cash payments to suppliers and employees', representing major gross cash flows.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 42,
        questionText: "Why is a T-account a useful tool for preparing a Statement of Cash Flows?",
        options: {
            A: "It provides a visual representation of all debits and credits.",
            B: "It helps calculate the cash flow as a balancing figure.",
            C: "It is a requirement of IAS 7.",
            D: "It is the only way to calculate cash payments for PPE."
        },
        correctAnswer: "B",
        explanation: "The PDF demonstrates the use of a T-account for calculating interest paid, income tax paid, and cash receipts from the sale of PPE, explicitly stating the cash flow is a 'balancing figure obtained from these three figures.'",
        type: "Standard MCQ"
    },
    {
        questionNumber: 43,
        questionText: "Which of the following is NOT an 'Investing activity'?",
        options: {
            A: "Cash payments to acquire non-current assets.",
            B: "Cash receipts from the sale of non-current assets.",
            C: "Cash payments to acquire debt of other entities.",
            D: "Proceeds from long-term borrowings."
        },
        correctAnswer: "D",
        explanation: "Proceeds from long-term borrowings are explicitly listed as a financing activity in the example on page 446 of the PDF.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 44,
        questionText: "A company’s statement of financial position shows a decrease in 'Trade and other receivables'. This indicates that:",
        options: {
            A: "The company's sales have decreased.",
            B: "The company has collected cash from more of its customers.",
            C: "The company's credit period has been extended.",
            D: "This is a non-cash item."
        },
        correctAnswer: "B",
        explanation: "A decrease in receivables means that customers have paid down their balances, resulting in a cash inflow. The PDF states that an 'increase in receivables means that more of the revenue… has not been collected and therefore the company has less cash', so the opposite is true for a decrease.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 45,
        questionText: "What is the primary difference between profit and cash flow?",
        options: {
            A: "Profit includes all income and expenses, while cash flow only includes cash transactions.",
            B: "Profit is an accrual-based measure, while cash flow is a cash-based measure.",
            C: "Profit is a measure of liquidity, while cash flow is a measure of profitability.",
            D: "A and B."
        },
        correctAnswer: "D",
        explanation: "The PDF contrasts profit with cash flow, noting that profit can be misleading and that non-cash items like depreciation affect profit. This aligns with the accrual vs. cash basis distinction.",
        type: "Standard MCQ"
    },
    {
        questionNumber: 46,
        questionText: "A company’s financial statements show the following:<br/>Profit before tax: $750,000<br/>Depreciation charge: $250,000<br/>Profit on disposal of non-current asset: $30,000<br/>Increase in inventories: $120,000<br/>Decrease in trade payables: $150,000<br/>What is the cash generated from operations?",
        options: {
            A: "$700,000",
            B: "$900,000",
            C: "$600,000",
            D: "$740,000"
        },
        correctAnswer: "A",
        explanation: "Profit before tax ($750,000) + Depreciation ($250,000) - Profit on disposal ($30,000) - Increase in inventories ($120,000) - Decrease in payables ($150,000) = $700,000.",
        type: "Calculation-based MCQ"
    },
    {
        questionNumber: 47,
        questionText: "Which of the following are examples of cash flows from financing activities?",
        options: {
            A: "Proceeds from the issue of share capital and repayment of loans.",
            B: "Dividends paid and proceeds from long-term borrowings.",
            C: "Both A and B.",
            D: "None of the above."
        },
        correctAnswer: "C",
        explanation: "The PDF defines financing activities as those related to changes in equity and borrowings. All four options fall into this category.",
        type: "Multi-Select"
    },
    {
        questionNumber: 48,
        questionText: "True or False: The Statement of Cash Flows is an unreliable indicator of liquidity and solvency.",
        options: {
            A: "True",
            B: "False"
        },
        correctAnswer: "B",
        explanation: "The PDF states: 'The statement of cash flows concentrates on the sources and uses of cash and is a useful indicator of liquidity and solvency.'",
        type: "True False"
    },
    {
        questionNumber: 49,
        questionText: "Scenario-Based Question:<br/><br/>ABC Limited's Statement of Financial Position shows a decrease in a 'Provision for warranty claims' of BDT 50,000 from the beginning to the end of the year. The Statement of Profit or Loss shows a warranty expense of BDT 80,000 for the year. How would these be treated in the Statement of Cash Flows?",
        options: {
            A: "The BDT 50,000 decrease in provision is added back to profit, and the BDT 80,000 expense is a cash outflow.",
            B: "The BDT 80,000 expense is added back to profit, and the BDT 50,000 decrease is a cash outflow.",
            C: "The BDT 80,000 expense is added back to profit. The cash outflow is BDT 130,000 (Expense + decrease).",
            D: "The BDT 80,000 expense is added back to profit. The cash outflow is BDT 30,000 (Expense - decrease)."
        },
        correctAnswer: "C",
        explanation: "The warranty expense is a non-cash item, so it's added back to profit. The change in the provision represents the cash outflow. The cash paid for warranty claims is the expense plus the decrease in the provision: BDT 80,000 + BDT 50,000 = BDT 130,000. Alternatively, Cash Paid = Opening Provision + Charge - Closing Provision. Since the provision decreased by BDT 50,000, Closing = Opening - 50,000. Let's assume opening is X, then closing is X - 50,000. Cash Paid = X + 80,000 - (X - 50,000) = 80,000 + 50,000 = BDT 130,000. This is the cash outflow for operating activities.",
        type: "Scenario-based MCQ"
    },
    {
        questionNumber: 50,
        questionText: "Scenario-Based Question:<br/><br/>A company’s accounts show the following balances:<br/>Trade Receivables: 1 Jan 20X7: BDT 100,000; 31 Dec 20X7: BDT 150,000.<br/>Trade Payables: 1 Jan 20X7: BDT 80,000; 31 Dec 20X7: BDT 60,000.<br/>Sales revenue for the year: BDT 500,000.<br/>Cost of Goods Sold (COGS): BDT 300,000.<br/>Wages and Salaries Expense: BDT 50,000.<br/>What is the total cash paid to suppliers and employees for the year?",
        options: {
            A: "BDT 370,000",
            B: "BDT 390,000",
            C: "BDT 330,000",
            D: "BDT 350,000"
        },
        correctAnswer: "D",
        explanation: "Cash paid to suppliers = COGS ($300,000) - Decrease in Trade Payables ($20,000) = $280,000. There is no information about wages and salaries payable, so we assume the full expense was paid in cash. Cash paid to employees = $50,000. Total cash paid = $280,000 + $50,000 = $330,000.",
        type: "Calculation-based MCQ"
    }

];

    let currentQuestionIndex = 0;
    let userAnswers = {};
    let flaggedQuestions = new Set();
    let quizTimer;
    const timeLimit = 45 * 60; // 45 minutes in seconds
    let timeElapsed = 0;
    let isQuizActive = false;

    const quizArea = document.getElementById('quiz-area');
    const quizHeader = document.getElementById('quiz-header');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const submitBtn = document.getElementById('submit-btn');
    const flagBtn = document.getElementById('flag-btn');
    const resultsArea = document.getElementById('results-area');
    const timerDisplay = document.getElementById('timer');
    const questionTracker = document.querySelector('.question-tracker');

    function startQuiz() {
        generateQuestionTracker();
        showQuestion(currentQuestionIndex);
        startTimer();
        isQuizActive = true;
    }

    function generateQuestionTracker() {
        questionTracker.innerHTML = '';
        quizData.forEach((q, index) => {
            const trackerItem = document.createElement('div');
            trackerItem.className = 'tracker-item';
            trackerItem.textContent = index + 1;
            trackerItem.setAttribute('data-index', index);
            trackerItem.addEventListener('click', () => {
                if (isQuizActive) {
                    showQuestion(index);
                }
            });
            questionTracker.appendChild(trackerItem);
        });
        updateQuestionTracker();
    }

    function updateQuestionTracker() {
        const trackerItems = document.querySelectorAll('.tracker-item');
        trackerItems.forEach((item, index) => {
            item.classList.remove('answered', 'flagged', 'current');
            if (userAnswers[index] && userAnswers[index].length > 0) {
                item.classList.add('answered');
            }
            if (flaggedQuestions.has(index)) {
                item.classList.add('flagged');
            }
            if (index === currentQuestionIndex) {
                item.classList.add('current');
            }
        });
    }

    function showQuestion(index) {
        if (!isQuizActive) return;

        currentQuestionIndex = index;
        const question = quizData[index];
        const isMultiSelect = question.type === "Multi-Select" || question.correctAnswer.includes(',');
        
        let optionsHtml = '';
        for (const [key, value] of Object.entries(question.options)) {
            const isSelected = userAnswers[index] && userAnswers[index].includes(key);
            optionsHtml += `
                <button
                    class="option-button ${isMultiSelect ? 'multi-select' : ''} ${isSelected ? 'selected' : ''}"
                    data-option="${key}"
                    onclick="handleOptionClick(this, ${index}, ${isMultiSelect})"
                >
                    <span class="font-bold mr-2">${key}.</span> ${value}
                </button>
            `;
        }
        
        const questionHtml = `
            <div class="mb-4">
                <span class="text-lg font-bold">Question ${question.questionNumber}.</span> <span class="text-sm text-gray-500">(2 Marks)</span>
            </div>
            <div class="text-xl leading-relaxed mb-6">
                ${question.questionText}
            </div>
            <div class="options-container">
                ${optionsHtml}
            </div>
        `;

        quizArea.innerHTML = questionHtml;
        
        prevBtn.style.display = index === 0 ? 'none' : 'inline-block';
        nextBtn.style.display = index === quizData.length - 1 ? 'none' : 'inline-block';
        submitBtn.style.display = 'inline-block';
        flagBtn.textContent = flaggedQuestions.has(index) ? 'Unflag' : 'Flag';
        flagBtn.classList.toggle('bg-yellow-400', !flaggedQuestions.has(index));
        flagBtn.classList.toggle('bg-red-500', flaggedQuestions.has(index));
        updateQuestionTracker();
    }

    window.handleOptionClick = (button, questionIndex, isMultiSelect) => {
        const option = button.getAttribute('data-option');
        if (!userAnswers[questionIndex]) {
            userAnswers[questionIndex] = [];
        }

        if (isMultiSelect) {
            const index = userAnswers[questionIndex].indexOf(option);
            if (index > -1) {
                userAnswers[questionIndex].splice(index, 1);
                button.classList.remove('selected');
            } else {
                userAnswers[questionIndex].push(option);
                button.classList.add('selected');
            }
        } else {
            document.querySelectorAll('.option-button').forEach(btn => btn.classList.remove('selected'));
            userAnswers[questionIndex] = [option];
            button.classList.add('selected');
        }
        updateQuestionTracker();
    };

    function startTimer() {
        quizTimer = setInterval(() => {
            timeElapsed++;
            const timeRemaining = timeLimit - timeElapsed;
            if (timeRemaining <= 0) {
                clearInterval(quizTimer);
                handleSubmit();
            }
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            timerDisplay.textContent = `${minutes < 10 ? '0' : ''}${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        }, 1000);
    }
    
    function calculateResults() {
        let score = 0;
        let correctCount = 0;
        let incorrectCount = 0;
        let mistakesByTopic = {};

        quizData.forEach((question, index) => {
            const userSelection = userAnswers[index] ? userAnswers[index].sort().join('') : '';
            const correctAns = question.correctAnswer.split('').sort().join('');

            if (userSelection === correctAns) {
                score += 2;
                correctCount++;
            } else {
                incorrectCount++;
                const topic = question.type;
                mistakesByTopic[topic] = (mistakesByTopic[topic] || 0) + 1;
            }
        });

        const totalQuestions = quizData.length;
        const totalMarks = totalQuestions * 2;
        const percentage = (score / totalMarks) * 100;
        const incorrectPercentage = (incorrectCount / totalQuestions) * 100;

        const summaryHtml = `
            <div class="mb-8">
                <h2 class="text-3xl font-bold mb-4">Quiz Results</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                    <div class="bg-blue-100 p-6 rounded-lg">
                        <p class="text-4xl font-bold text-blue-600">${score}</p>
                        <p class="text-gray-600">Total Score</p>
                    </div>
                    <div class="bg-green-100 p-6 rounded-lg">
                        <p class="text-4xl font-bold text-green-600">${percentage.toFixed(2)}%</p>
                        <p class="text-gray-600">Overall Percentage</p>
                    </div>
                    <div class="bg-green-100 p-6 rounded-lg">
                        <p class="text-4xl font-bold text-green-600">${correctCount}</p>
                        <p class="text-gray-600">Correct Answers</p>
                    </div>
                    <div class="bg-red-100 p-6 rounded-lg">
                        <p class="text-4xl font-bold text-red-600">${incorrectCount}</p>
                        <p class="text-gray-600">Incorrect Answers</p>
                    </div>
                </div>
            </div>

            <div class="mb-8">
                <h3 class="text-2xl font-bold mb-4">Areas to Focus On</h3>
                ${Object.keys(mistakesByTopic).length > 0 ? Object.entries(mistakesByTopic).map(([topic, count]) => `
                    <div class="bg-red-50 p-4 rounded-lg mb-2">
                        <p class="font-semibold text-red-700">You made ${count} mistake(s) in the topic: ${topic}</p>
                    </div>
                `).join('') : '<p class="text-green-600">Excellent! You answered all questions correctly.</p>'}
            </div>

            <div class="mb-8">
                <h3 class="text-2xl font-bold mb-4">Quiz Difficulty</h3>
                <div class="p-4 bg-gray-100 rounded-lg">
                    <p class="text-lg">This quiz was <span class="font-bold text-blue-600">Tricky</span>, designed to match ICAB exam standards.</p>
                </div>
            </div>

            <div class="text-center">
                <button onclick="retakeQuiz()" class="bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors">Retake Quiz</button>
            </div>
        `;
        
        const detailedReviewHtml = quizData.map((q, index) => {
            const userAnswer = userAnswers[index] ? userAnswers[index].join(', ') : 'Not Answered';
            const correctAnswer = q.correctAnswer.split('').sort().join(', ');
            const isCorrect = userAnswer.split(', ').sort().join('') === correctAnswer.split(', ').sort().join('');
            const userSelectionClass = isCorrect ? 'bg-green-100' : 'bg-red-100';

            const optionsHtml = Object.entries(q.options).map(([key, value]) => {
                const isUserSelected = userAnswers[index] && userAnswers[index].includes(key);
                const isCorrectOption = q.correctAnswer.includes(key);
                let buttonClass = 'bg-white text-gray-700';

                if (isUserSelected && isCorrect) {
                    buttonClass = 'correct-answer';
                } else if (isUserSelected && !isCorrect) {
                    buttonClass = 'user-selected-wrong';
                } else if (isCorrectOption) {
                    buttonClass = 'correct-answer';
                }
                
                return `
                    <button class="w-full text-left p-3 rounded-lg border my-1 ${buttonClass}">
                        <span class="font-bold mr-2">${key}.</span> ${value}
                    </button>
                `;
            }).join('');

            return `
                <div class="p-6 rounded-lg shadow-sm mb-6 ${userSelectionClass}">
                    <div class="mb-4">
                        <span class="text-lg font-bold">Question ${q.questionNumber}.</span> <span class="text-sm text-gray-500">(2 Marks)</span>
                        ${isCorrect ? '<span class="text-green-600 ml-2 font-semibold">✅ Correct</span>' : '<span class="text-red-600 ml-2 font-semibold">❌ Incorrect</span>'}
                    </div>
                    <div class="text-lg leading-relaxed mb-4">${q.questionText}</div>
                    <div class="mb-4">
                        <p class="font-semibold text-gray-700 mb-2">Your Answer: <span class="font-normal">${userAnswer}</span></p>
                        <p class="font-semibold text-gray-700 mb-4">Correct Answer: <span class="font-normal">${correctAnswer}</span></p>
                        ${optionsHtml}
                    </div>
                    <div class="p-4 rounded-lg bg-gray-50 border border-gray-200">
                        <p class="font-semibold text-gray-800 mb-2">Explanation:</p>
                        <p class="text-sm text-gray-600">${q.explanation}</p>
                    </div>
                </div>
            `;
        }).join('');

        resultsArea.innerHTML = summaryHtml + detailedReviewHtml;
    }

    function handleSubmit() {
        clearInterval(quizTimer);
        isQuizActive = false;
        document.getElementById('quiz-area').classList.add('hidden');
        document.getElementById('quiz-nav').classList.add('hidden');
        document.getElementById('quiz-header').classList.add('hidden');
        document.querySelector('.sidebar').classList.add('hidden');
        resultsArea.classList.remove('hidden');
        calculateResults();
    }

    function retakeQuiz() {
        currentQuestionIndex = 0;
        userAnswers = {};
        flaggedQuestions = new Set();
        timeElapsed = 0;
        resultsArea.classList.add('hidden');
        document.getElementById('quiz-area').classList.remove('hidden');
        document.getElementById('quiz-nav').classList.remove('hidden');
        document.getElementById('quiz-header').classList.remove('hidden');
        document.querySelector('.sidebar').classList.remove('hidden');
        startQuiz();
    }
    
    // Event Listeners for Navigation
    nextBtn.addEventListener('click', () => {
        if (currentQuestionIndex < quizData.length - 1) {
            showQuestion(currentQuestionIndex + 1);
        }
    });

    prevBtn.addEventListener('click', () => {
        if (currentQuestionIndex > 0) {
            showQuestion(currentQuestionIndex - 1);
        }
    });

    submitBtn.addEventListener('click', () => {
        handleSubmit();
    });

    flagBtn.addEventListener('click', () => {
        if (flaggedQuestions.has(currentQuestionIndex)) {
            flaggedQuestions.delete(currentQuestionIndex);
        } else {
            flaggedQuestions.add(currentQuestionIndex);
        }
        updateQuestionTracker();
        flagBtn.textContent = flaggedQuestions.has(currentQuestionIndex) ? 'Unflag' : 'Flag';
        flagBtn.classList.toggle('bg-yellow-400', !flaggedQuestions.has(currentQuestionIndex));
        flagBtn.classList.toggle('bg-red-500', flaggedQuestions.has(currentQuestionIndex));
    });

    window.onload = startQuiz;

</script>
</body>
</html>
