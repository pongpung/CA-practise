<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICAB Accounting Exam â€“ Corporate Governance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .question-tracker-item {
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .question-tracker-item:hover {
            transform: scale(1.1);
        }
        .selected-option {
            background-color: #3b82f6 !important; /* blue-500 */
            color: white !important;
            border-color: #2563eb !important; /* blue-600 */
        }
        .correct-answer {
            background-color: #16a34a; /* green-600 */
            color: white;
        }
        .incorrect-answer {
            background-color: #dc2626; /* red-600 */
            color: white;
        }
        .explanation {
            background-color: #f3f4f6; /* gray-100 */
            border-left: 4px solid #6b7280; /* gray-500 */
            padding: 12px;
            margin-top: 16px;
            border-radius: 4px;
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div id="quiz-container" class="flex flex-col md:flex-row min-h-screen">
        <!-- Left Side: Question Tracker -->
        <div class="w-full md:w-1/5 bg-white p-4 shadow-lg overflow-y-auto">
            <h2 class="text-xl font-bold mb-4 text-center text-gray-700">Question Tracker</h2>
            <div id="question-tracker" class="grid grid-cols-5 gap-2">
                <!-- Tracker items will be generated by JS -->
            </div>
        </div>

        <!-- Center: Main Content -->
        <div class="w-full md:w-4/5 p-6 md:p-8 flex flex-col">
            <div id="quiz-header" class="flex justify-between items-center mb-6">
                <h1 class="text-2xl md:text-3xl font-bold text-blue-800">ICAB Accounting Exam â€“ Corporate Governance</h1>
                <div class="flex items-center space-x-4">
                    <div id="timer" class="text-xl font-semibold bg-red-500 text-white px-4 py-2 rounded-md shadow">45:00</div>
                    <button id="flag-btn" class="px-4 py-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600 transition-colors shadow">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 01-1-1V6z" clip-rule="evenodd" /></svg>
                        Flag
                    </button>
                </div>
            </div>

            <div id="question-area" class="bg-white p-8 rounded-lg shadow-xl flex-grow">
                <div id="question-content">
                    <!-- Question will be loaded here -->
                </div>
                <div id="options-container" class="mt-6 space-y-3">
                    <!-- Options will be loaded here -->
                </div>
            </div>
            
            <div id="navigation-buttons" class="flex justify-between mt-8">
                <button id="prev-btn" class="px-6 py-3 bg-gray-500 text-white font-bold rounded-lg hover:bg-gray-600 transition-colors shadow-md">Previous</button>
                <button id="next-btn" class="px-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors shadow-md">Next</button>
            </div>
             <div class="text-center mt-8">
                <button id="submit-btn" class="px-10 py-4 bg-green-600 text-white text-lg font-bold rounded-lg hover:bg-green-700 transition-colors shadow-lg">Submit Quiz</button>
            </div>
        </div>
    </div>

    <!-- Results Page -->
    <div id="results-container" class="hidden p-6 md:p-10 max-w-5xl mx-auto bg-white rounded-lg shadow-2xl my-10">
        <h1 class="text-4xl font-extrabold text-center text-blue-800 mb-4">Quiz Results</h1>
        <p class="text-center text-lg text-gray-600 mb-2">Quiz Difficulty: <span class="font-bold text-red-500">Tricky</span></p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center my-8">
            <div class="bg-blue-100 p-6 rounded-lg shadow">
                <div class="text-4xl font-bold text-blue-800" id="total-score"></div>
                <div class="text-lg text-blue-700">Total Score</div>
            </div>
            <div class="bg-green-100 p-6 rounded-lg shadow">
                <div class="text-4xl font-bold text-green-800" id="correct-answers"></div>
                <div class="text-lg text-green-700">Correct Answers</div>
            </div>
            <div class="bg-red-100 p-6 rounded-lg shadow">
                <div class="text-4xl font-bold text-red-800" id="incorrect-answers"></div>
                <div class="text-lg text-red-700">Incorrect Answers</div>
            </div>
             <div class="bg-yellow-100 p-6 rounded-lg shadow">
                <div class="text-4xl font-bold text-yellow-800" id="incorrect-percentage"></div>
                <div class="text-lg text-yellow-700">Incorrect %</div>
            </div>
        </div>

        <div id="weak-areas" class="bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4 rounded-md shadow mb-8">
            <h3 class="font-bold text-xl mb-2">Topics for Improvement</h3>
            <ul id="weak-topics-list" class="list-disc list-inside">
                <!-- Weak topics will be listed here -->
            </ul>
        </div>
        
        <h2 class="text-3xl font-bold text-gray-800 mt-12 mb-6 border-b-2 pb-2">Detailed Question Review</h2>
        <div id="review-area" class="space-y-8">
            <!-- Review content will be generated here -->
        </div>

        <div class="text-center mt-12">
            <button id="retake-btn" class="px-10 py-4 bg-blue-600 text-white text-lg font-bold rounded-lg hover:bg-blue-700 transition-colors shadow-lg">Retake Quiz</button>
        </div>

        <footer class="text-center mt-16 pt-6 border-t">
            <p class="text-gray-600 font-semibold">Prepared by:</p>
            <p class="text-gray-500">
                <a href="https://www.linkedin.com/in/k-m-mahafuzul-alam" target="_blank" class="text-blue-600 hover:underline">ðŸ”— K. M. Mahafuzul Alam</a>
            </p>
            <p class="text-gray-500">ðŸ“ž WhatsApp: 01728-928984</p>
            <p class="text-gray-500">ðŸ“§ Email: kmmhafuzulalam@gmail.com</p>
        </footer>
    </div>

    <script>
        const quizData = [
            {
                question: "The BSEC Corporate Governance Code's 'comply or explain' regime applies to which companies in Bangladesh?",
                options: ["All private companies", "All state-owned enterprises", "All companies with a premium listing on the DSE and CSE", "All multinational corporations"],
                correct: [2],
                explanation: "Compliance with the Code is a listing requirement for companies with a premium listing on the Dhaka and Chittagong Stock Exchanges. They must either comply with the Code's provisions or explain their non-compliance in their annual report.",
                topic: "The Role of the Corporate Governance Code"
            },
            {
                question: "According to the principles of the Corporate Governance Code, the primary role of the board is to:",
                options: ["Manage the company's daily operations.", "Promote the long-term sustainable success of the company.", "Maximize short-term profits for executive bonuses.", "Handle all customer complaints directly."],
                correct: [1],
                explanation: "Principle A states that a successful company is led by a board whose role is to promote the long-term sustainable success of the company, generating value for shareholders and contributing to wider society.",
                topic: "Board Leadership and Company Purpose"
            },
            {
                question: "Which TWO of the following are key responsibilities of the Chair of the board?",
                options: ["Setting the company's annual budget.", "Leading the board and ensuring its overall effectiveness.", "Promoting a culture of openness and debate.", "Signing all supplier contracts."],
                correct: [1, 2],
                type: 'multiple',
                explanation: "Principle F outlines that the Chair leads the board, is responsible for its effectiveness, and promotes a culture of openness and debate. Setting budgets and signing contracts are typically management responsibilities.",
                topic: "Division of Responsibilities"
            },
            {
                question: "Under the BSEC Corporate Governance Code, the roles of the Chair and Chief Executive Officer (CEO) should:",
                options: ["Always be combined in one person for efficiency.", "Not be exercised by the same individual to ensure a clear division of responsibilities.", "Be rotated between two individuals annually.", "Be decided by a vote of the employees."],
                correct: [1],
                explanation: "A core principle of good governance (Provision 9 in the UK Code, mirrored in the BSEC Code) is the separation of the roles of Chair and CEO. This prevents the concentration of power in one individual and ensures a balance of power and authority at the top of the company.",
                topic: "Division of Responsibilities"
            },
            {
                question: "A non-executive director (NED) would likely be considered NOT independent if they:",
                options: ["Have served on the board for two years.", "Provide constructive challenge to the executive team.", "Have been an employee of the company within the last five years.", "Chair the remuneration committee."],
                correct: [2],
                explanation: "Provision 10 lists circumstances that impair independence. Recent employment (within five years) creates a familiarity and loyalty that could compromise the NED's ability to be objective and scrutinize the performance of former colleagues.",
                topic: "Division of Responsibilities"
            },
            {
                question: "For a listed company in Bangladesh, at least what proportion of the board, excluding the Chair, should be independent non-executive directors (NEDs)?",
                options: ["One-third", "One-quarter", "Half", "Two-thirds"],
                correct: [2],
                explanation: "Provision 11 of the UK Code, a best practice standard followed in Bangladesh, requires that at least half the board, excluding the Chair, should be independent NEDs. This ensures a strong independent element on the board to challenge and monitor the executive directors.",
                topic: "Division of Responsibilities"
            },
            {
                question: "The board committee responsible for leading the process for board appointments and ensuring orderly succession is the:",
                options: ["Audit Committee", "Remuneration Committee", "Executive Committee", "Nomination Committee"],
                correct: [3],
                explanation: "The Nomination Committee, as per Provision 17, is responsible for board appointments, succession planning for the board and senior management, and overseeing the development of a diverse pipeline for succession.",
                topic: "Composition, Succession and Evaluation"
            },
            {
                question: "True or False: According to the Corporate Governance Code, only executive directors are subject to annual re-election by shareholders.",
                options: ["True", "False"],
                correct: [1],
                type: 'true_false',
                explanation: "False. Provision 18 of the Code states that ALL directors should be subject to annual re-election at the AGM. This ensures accountability of the entire board to the shareholders.",
                topic: "Composition, Succession and Evaluation"
            },
            {
                question: "The Audit Committee of a listed company should be composed of:",
                options: ["Only executive directors.", "A mix of executive and non-executive directors.", "A minimum of three independent non-executive directors.", "The CEO, the CFO, and the head of internal audit."],
                correct: [2],
                explanation: "Provision 24 states the audit committee should have a minimum of three (or two for smaller companies) independent NEDs. The Chair of the board cannot be a member. This ensures the committee's independence in overseeing financial reporting and audit.",
                topic: "Audit, Risk and Internal Control"
            },
            {
                question: "Which of the following is NOT a main role of the Audit Committee?",
                options: ["Monitoring the integrity of the financial statements.", "Recommending the appointment of the external auditor.", "Determining the remuneration policy for executive directors.", "Reviewing the company's internal control and risk management systems."],
                correct: [2],
                explanation: "Determining remuneration policy is the responsibility of the Remuneration Committee. The Audit Committee's roles are focused on financial reporting integrity, oversight of audit (internal and external), and internal controls.",
                topic: "Audit, Risk and Internal Control"
            },
            {
                question: "The board should present a _______ assessment of the companyâ€™s position and prospects in the annual report.",
                options: ["fair, balanced and understandable", "brief and concise", "highly optimistic", "legally complex"],
                correct: [0],
                explanation: "Principle N requires the board to present a fair, balanced, and understandable assessment. This helps shareholders and other stakeholders to make an informed judgment of the company's performance, business model, and strategy.",
                topic: "Audit, Risk and Internal Control"
            },
            {
                question: "The board committee responsible for determining the remuneration policy for executive directors is the:",
                options: ["Nomination Committee", "Audit Committee", "Remuneration Committee", "Board of Directors as a whole"],
                correct: [2],
                explanation: "Principle Q and Provision 32 establish that a formal and transparent procedure for setting executive pay should be established, with this responsibility delegated to a Remuneration Committee composed of independent NEDs.",
                topic: "Remuneration"
            },
            {
                question: "Which THREE of the following factors should the remuneration committee address when setting executive pay policy?",
                options: ["Clarity and Simplicity", "Risk", "Proportionality", "Popularity among employees"],
                correct: [0, 1, 2],
                type: 'multiple',
                explanation: "Provision 40 outlines several factors including clarity (transparency), simplicity (easy to understand), risk (avoiding incentives for excessive risk-taking), and proportionality (linking pay to long-term performance). Popularity is not a specified factor.",
                topic: "Remuneration"
            },
            {
                question: "The primary purpose of the external audit is to:",
                options: ["Detect all fraud within the company.", "Provide an independent opinion on whether the financial statements give a 'true and fair view'.", "Advise the company on how to improve its profitability.", "Prepare the company's financial statements."],
                correct: [1],
                explanation: "The external auditor's fundamental role is to provide assurance to shareholders. They issue an opinion on whether the financial statements, prepared by management, are free from material misstatement and present a true and fair view.",
                topic: "The Role of External Audit"
            },
            {
                question: "The key difference between internal audit and external audit is that:",
                options: ["External audit is mandatory for all companies, but internal audit is not.", "Internal audit reports to shareholders, while external audit reports to management.", "Internal audit's remit covers operational controls and efficiency, whereas external audit focuses on the truth and fairness of financial statements.", "External auditors are company employees, while internal auditors are independent."],
                correct: [2],
                explanation: "Internal audit has a broader scope, looking at all aspects of the company's internal control and risk management systems, including operational and compliance controls. External audit has a narrower focus on providing an opinion on the historical financial statements.",
                topic: "The Role of Internal Audit"
            },
            // Scenario 1
            {
                question: "Case Scenario: GrameenTel, a listed company, has a board of 10 directors, including the Chair. The CEO, Mr. Khan, has been in his role for 15 years and is highly respected. The board has 4 independent NEDs. The Chair, a close friend of the CEO, has also been on the board for 12 years. The annual report states they do not comply with the board composition rules 'due to the CEO's invaluable experience'. Does this situation comply with the BSEC Code?",
                options: ["Yes, because they have provided an explanation.", "No, the number of independent NEDs is insufficient.", "Yes, because the CEO is highly respected.", "No, because the Chair has served for more than nine years."],
                correct: [1],
                explanation: "The company fails on board composition. Excluding the Chair, there are 9 directors. At least half (i.e., 5) should be independent NEDs, but they only have 4. While they have 'explained' this, it is a significant departure from a key provision (Provision 11), and shareholders may find the explanation weak.",
                topic: "Scenario: Division of Responsibilities"
            },
            {
                question: "Following the GrameenTel scenario, the Chair's long tenure of 12 years and close friendship with the CEO could primarily impair which two principles?",
                options: ["The Chair's independence and objective judgement.", "The company's profitability and market share.", "The effectiveness of the internal audit function.", "The accuracy of the financial statements."],
                correct: [0],
                explanation: "A long tenure (beyond nine years, as per Provision 19) and a close personal relationship with the CEO can impair a Chair's independence and objectivity (Principle F). This can reduce their ability to lead the board effectively and challenge the CEO when necessary.",
                topic: "Scenario: Division of Responsibilities"
            },
            {
                question: "In the GrameenTel scenario, the responsibility for reviewing the performance of the long-serving Chair falls primarily to:",
                options: ["The CEO, Mr. Khan.", "The shareholders at the AGM.", "The independent NEDs, led by the Senior Independent Director (SID).", "The external auditors."],
                correct: [2],
                explanation: "Provision 13 states that the independent NEDs, led by the SID, should meet without the Chair present at least annually to appraise the Chair's performance. This provides an important check and balance on the Chair's power and effectiveness.",
                topic: "Scenario: Division of Responsibilities"
            },
            {
                question: "When 20% or more of votes are cast against a board-recommended resolution at an AGM, the company should:",
                options: ["Ignore the result as the resolution still passed.", "Dismiss the directors who voted against it.", "Explain what actions it will take to consult with shareholders to understand their concerns.", "Hold another vote immediately."],
                correct: [2],
                explanation: "Provision 4 requires companies to respond to significant shareholder dissent. They must explain what actions they intend to take to consult shareholders, publish an update within six months, and provide a final summary in the next annual report.",
                topic: "Board Leadership and Company Purpose"
            },
            {
                question: "The Senior Independent Director (SID) serves as an intermediary for:",
                options: ["The company's customers and the board.", "The executive directors and the CEO.", "The other directors and shareholders, and as a sounding board for the Chair.", "The internal and external auditors."],
                correct: [2],
                explanation: "Provision 12 outlines the SID's role. They are a crucial point of contact for shareholders and other directors who may have concerns they are unable to raise through the normal channels of Chair or CEO. They also provide support and advice to the Chair.",
                topic: "Division of Responsibilities"
            },
            {
                question: "The independence of the internal audit function is best preserved by having the head of internal audit report directly to:",
                options: ["The Chief Financial Officer (CFO).", "The Chief Executive Officer (CEO).", "The Audit Committee.", "The Board of Directors as a whole."],
                correct: [2],
                explanation: "To be effective, internal audit must be independent of the management it is reviewing. Reporting directly to the Audit Committee, which is composed of independent NEDs, provides the necessary independence and authority, and ensures its findings are given appropriate consideration.",
                topic: "The Role of Internal Audit"
            },
            {
                question: "Which statement about the remuneration of Non-Executive Directors is correct according to the Code?",
                options: ["It should include performance-related share options.", "It should be determined by the CEO.", "It should not include share options or other performance-related elements.", "It should be higher than the remuneration of executive directors."],
                correct: [2],
                explanation: "Provision 34 is clear that remuneration for NEDs should not include performance-related elements like share options. This is to ensure their independence and objectivity are not compromised by having a financial stake in short-term performance.",
                topic: "Remuneration"
            },
            {
                question: "A company's annual report states that its Audit Committee has two members, both of whom are independent NEDs, and one has recent financial experience. For a smaller listed company, is this compliant?",
                options: ["No, the minimum is three members.", "Yes, this is compliant for a smaller company.", "No, both members must have financial experience.", "No, the Chair of the board must be a member."],
                correct: [1],
                explanation: "Yes. Provision 24 allows for a minimum of two members for smaller companies, provided both are independent NEDs and at least one has recent and relevant financial experience. The Chair of the board should not be a member.",
                topic: "Audit, Risk and Internal Control"
            },
            {
                question: "A board's duty to establish a framework of prudent and effective controls to assess and manage risk is outlined under which section of the Code?",
                options: ["Remuneration", "Division of Responsibilities", "Board Leadership and Company Purpose", "Composition, Succession and Evaluation"],
                correct: [2],
                explanation: "Principle C, under the section 'Board Leadership and Company Purpose', explicitly states that the board should establish a framework of prudent and effective controls, which enable risk to be assessed and managed.",
                topic: "Board Leadership and Company Purpose"
            },
            {
                question: "The Corporate Governance Code encourages engagement with which TWO of the following groups, in addition to shareholders?",
                options: ["The media", "The workforce", "Competitors", "Key stakeholders"],
                correct: [1, 3],
                type: 'multiple',
                explanation: "Principle D and E emphasize the need for effective engagement with the workforce and other key stakeholders. Understanding their views is crucial for the board to make decisions that support the company's long-term sustainable success.",
                topic: "Board Leadership and Company Purpose"
            },
            {
                question: "Which of the following is a key task for the internal audit function?",
                options: ["Preparing the annual financial statements.", "Expressing an opinion on the truth and fairness of the financial statements.", "Advising management on improving internal controls and risk management processes.", "Setting the company's strategic direction."],
                correct: [2],
                explanation: "Internal audit plays a crucial advisory and monitoring role. It helps management by assessing risks, evaluating the effectiveness of controls, and recommending improvements to business processes. Preparing statements and setting strategy are management/board functions.",
                topic: "The Role of Internal Audit"
            },
            {
                question: "The 'going concern' basis of accounting means that the financial statements are prepared on the assumption that the company:",
                options: ["Will be sold within the next 12 months.", "Will be able to pay a dividend next year.", "Will continue in operation for the foreseeable future.", "Is about to enter liquidation."],
                correct: [2],
                explanation: "The going concern concept is a fundamental principle of accounting. The board must state in the financial statements whether it is appropriate to adopt this basis, which assumes the company will continue to operate for at least 12 months from the approval date.",
                topic: "Audit, Risk and Internal Control"
            },
            {
                question: "The Chair of the remuneration committee should have served on a remuneration committee for at least _______ before being appointed as Chair.",
                options: ["6 months", "12 months", "24 months", "36 months"],
                correct: [1],
                explanation: "Provision 32 specifies that the appointee for the Chair of the remuneration committee should have at least 12 months' prior experience on such a committee to ensure they have sufficient knowledge and experience for this critical role.",
                topic: "Remuneration"
            },
            {
                question: "If a company uses an external search consultancy for the appointment of a new director, what should be disclosed in the annual report?",
                options: ["The total fee paid to the consultancy.", "The names of all candidates who were rejected.", "The identity of the consultancy and a statement about any other connection it has with the company.", "Nothing needs to be disclosed."],
                correct: [2],
                explanation: "Provision 20 requires transparency in the appointment process. To ensure independence, the annual report must identify the external search consultancy and disclose any other connections it may have with the company or its individual directors.",
                topic: "Composition, Succession and Evaluation"
            },
            {
                question: "The main purpose of having a Senior Independent Director (SID) is to:",
                options: ["Act as a deputy CEO.", "Provide an alternative contact point for shareholders and other directors if they have concerns.", "Manage the relationship with the company's bankers.", "Oversee the company's marketing strategy."],
                correct: [1],
                explanation: "The SID provides a crucial safety valve in governance. They offer a channel for communication when the normal routes through the Chair or CEO are inappropriate or have failed, ensuring concerns can still be heard at the highest level.",
                topic: "Division of Responsibilities"
            },
            {
                question: "True or False: The BSEC Corporate Governance Code is a legal statute, and non-compliance can lead to criminal prosecution.",
                options: ["True", "False"],
                correct: [1],
                type: 'true_false',
                explanation: "False. The Code is not a rigid set of laws but a code of best practice enforced through the listing rules of the stock exchange. Non-compliance is dealt with on a 'comply or explain' basis and does not typically result in criminal charges, though regulatory sanctions are possible.",
                topic: "The Role of the Corporate Governance Code"
            },
            {
                question: "A company's board decides against appointing a director from the workforce but instead sets up a formal workforce advisory panel. According to the Code, what must the company do?",
                options: ["Nothing, as this is an acceptable method.", "Explain in the annual report that they have chosen one of the specified methods for workforce engagement.", "Seek shareholder approval for this decision.", "Pay a fine to the BSEC."],
                correct: [1],
                explanation: "Provision 6 states that for workforce engagement, a company should use one or a combination of specified methods (a director from the workforce, an advisory panel, or a designated NED). They have chosen an acceptable method and should describe it in the annual report.",
                topic: "Board Leadership and Company Purpose"
            },
            {
                question: "Which of the following is a primary role of a Non-Executive Director (NED)?",
                options: ["Developing the company's IT systems.", "Managing a specific business division.", "Scrutinizing the performance of management and holding them to account.", "Preparing the monthly management accounts."],
                correct: [2],
                explanation: "Principle H and Provision 14 highlight the key role of NEDs in providing constructive challenge, strategic guidance, and holding executive management to account for their performance against agreed objectives.",
                topic: "Division of Responsibilities"
            },
            {
                question: "The board's annual evaluation should consider its composition, diversity, and:",
                options: ["The personal hobbies of its directors.", "How effectively members work together to achieve objectives.", "The company's social media popularity.", "The share price on the day of the evaluation."],
                correct: [1],
                explanation: "Principle L states that the annual evaluation should be comprehensive, looking not just at the structure and composition of the board, but also at its dynamics - how effectively the directors collaborate and function as a team to achieve the company's objectives.",
                topic: "Composition, Succession and Evaluation"
            },
            {
                question: "The policy on engaging the external auditor to supply non-audit services is developed and implemented by the:",
                options: ["Remuneration Committee", "CEO and CFO", "Nomination Committee", "Audit Committee"],
                correct: [3],
                explanation: "A key responsibility of the Audit Committee is to safeguard the independence of the external auditor. This includes developing and implementing a policy on non-audit services to ensure that providing such services does not create a conflict of interest that could impair audit objectivity.",
                topic: "Audit, Risk and Internal Control"
            },
            // Scenario 2
            {
                question: "Case Scenario: Beximco Pharma, a listed entity, has a Remuneration Committee of three members. It includes two independent NEDs and the company's Chair, who was independent upon his appointment to the board. The Chair of the committee is one of the independent NEDs who has served on the committee for 18 months. Is the composition of this committee compliant with the Code?",
                options: ["No, the Chair of the board cannot be a member.", "No, the committee must have at least four members.", "Yes, this composition is fully compliant.", "No, the Chair of the committee does not have enough experience."],
                correct: [2],
                explanation: "Yes, this is fully compliant with Provision 32. The committee has the minimum of three members. The Chair of the board can be a member (but not Chair the committee) if they were independent on appointment. The committee Chair is an independent NED with more than the required 12 months' experience.",
                topic: "Scenario: Remuneration"
            },
            {
                question: "Following the Beximco Pharma scenario, the committee is designing a new bonus scheme for executive directors. To align with Principle P, the scheme's targets should be clearly linked to:",
                options: ["The previous year's financial results.", "The successful delivery of the companyâ€™s long-term strategy.", "The personal preferences of the CEO.", "The average bonus paid by competitor companies."],
                correct: [1],
                explanation: "Principle P is explicit that executive remuneration should be aligned to the company's purpose and values and be clearly linked to the successful delivery of the company's long-term strategy, promoting long-term sustainable success.",
                topic: "Scenario: Remuneration"
            },
            {
                question: "If the new bonus scheme at Beximco Pharma included provisions that would enable the company to recover sums or share awards in case of misconduct or misstatement, this would be an example of applying:",
                options: ["Going concern principles", "Workforce engagement policies", "Clawback provisions", "Succession planning"],
                correct: [2],
                explanation: "Provision 37 requires remuneration schemes to include provisions to recover or withhold awards (often called 'clawback' provisions). This ensures that directors are not rewarded for performance that is later found to be based on misstated figures or results from misconduct.",
                topic: "Scenario: Remuneration"
            },
            {
                question: "The ultimate responsibility for the company's system of internal control and for reviewing its effectiveness lies with:",
                options: ["The external auditor", "The head of internal audit", "The management team", "The board of directors"],
                correct: [3],
                explanation: "While management implements the system and internal audit monitors it, Principle C and Provision 29 make it clear that the board holds the ultimate responsibility for the overall internal control framework and for carrying out an annual review of its effectiveness.",
                topic: "Audit, Risk and Internal Control"
            },
            {
                question: "An external auditor's independence is crucial because it:",
                options: ["Allows them to charge higher fees.", "Is required by the company's marketing department.", "Upholds the credibility and reliability of their audit opinion in the eyes of shareholders.", "Guarantees that the company's share price will increase."],
                correct: [2],
                explanation: "The value of an audit comes from its objectivity. If an auditor is not independent of the company, their opinion on the financial statements would be seen as biased and unreliable, thus losing its value to shareholders and other stakeholders.",
                topic: "The Role of External Audit"
            },
            {
                question: "When a company states it is not complying with a provision of the Code, the explanation should:",
                options: ["Be brief and avoid detail.", "Provide a clear rationale for the action and explain its impact.", "Blame the external auditors for the non-compliance.", "State that the provision is unimportant."],
                correct: [1],
                explanation: "The Code emphasizes that a good explanation is crucial. It should set out the context, provide a convincing rationale for the departure from the provision, and describe how the company's alternative approach still achieves good governance and is in the best interest of shareholders.",
                topic: "The Role of the Corporate Governance Code"
            },
            {
                question: "Which of the following is NOT a responsibility of the company secretary in relation to the board?",
                options: ["Advising the board on all governance matters.", "Ensuring the board has the resources it needs to function effectively.", "Making executive decisions on company strategy.", "Ensuring good information flows within the board."],
                correct: [2],
                explanation: "Making strategic decisions is the responsibility of the board itself. The company secretary (Principle I and Provision 16) plays a vital supporting and advisory role, focusing on governance, procedures, and information flow to help the board function effectively.",
                topic: "Division of Responsibilities"
            },
            {
                question: "A company's remuneration policy states that executive directors' pension contribution rates will be 20% of their base salary, while the rate for the general workforce is 5%. This would likely be a breach of which provision?",
                options: ["The provision on board evaluation.", "The provision on succession planning.", "The provision requiring pension rates for directors to be aligned with those of the workforce.", "The provision on the role of the SID."],
                correct: [2],
                explanation: "Provision 38 states that pension contribution rates for executive directors should be aligned with those available to the workforce. A significant discrepancy like this would be a clear departure from the provision and would need to be explained and justified.",
                topic: "Remuneration"
            },
            {
                question: "Which TWO of the following situations could impair a Non-Executive Director's independence?",
                options: ["Holding a small number of shares in the company.", "Having a close family tie with a senior employee.", "Representing a significant shareholder.", "Attending all board meetings."],
                correct: [1, 2],
                type: 'multiple',
                explanation: "Provision 10 lists specific circumstances that could impair independence. Both having close family ties to senior employees and representing a significant shareholder can create conflicts of interest or loyalty that compromise a NED's ability to exercise independent judgement.",
                topic: "Division of Responsibilities"
            },
            {
                question: "The board's responsibility to assess the company's emerging and principal risks is a key part of which section of the Code?",
                options: ["Remuneration", "Audit, Risk and Internal Control", "Division of Responsibilities", "Composition, Succession and Evaluation"],
                correct: [1],
                explanation: "Principle O and Provision 28, under the section 'Audit, Risk and Internal Control', detail the board's responsibility for conducting a robust assessment of risks, confirming this in the annual report, and explaining how risks are being managed or mitigated.",
                topic: "Audit, Risk and Internal Control"
            },
            {
                question: "The Nomination Committee oversees succession planning for the board and for _________.",
                options: ["all employees", "junior management", "senior management", "the external audit team"],
                correct: [2],
                explanation: "Provision 17 specifies that the Nomination Committee's remit for succession planning covers both the board itself and senior management positions, ensuring a pipeline of talent for key leadership roles within the company.",
                topic: "Composition, Succession and Evaluation"
            },
            {
                question: "The responsibility for providing advice to the board on whether the annual report is 'fair, balanced and understandable' rests with the:",
                options: ["The external auditor", "The Remuneration Committee", "The Audit Committee", "The Company Secretary"],
                correct: [2],
                explanation: "A key role of the Audit Committee is to provide advice (when requested by the board) on whether the annual report and accounts, taken as a whole, are fair, balanced, and understandable, as outlined in the committee's main roles and responsibilities.",
                topic: "Audit, Risk and Internal Control"
            },
            {
                question: "Which principle of the Code emphasizes that all directors must act with integrity and lead by example?",
                options: ["Principle A", "Principle B", "Principle G", "Principle P"],
                correct: [1],
                explanation: "Principle B explicitly states: 'All directors must act with integrity, lead by example and promote the desired culture.' This establishes the 'tone at the top' which is fundamental to the company's ethical environment.",
                topic: "Board Leadership and Company Purpose"
            },
            {
                question: "The internal audit function is considered a key element of a company's:",
                options: ["Marketing strategy", "External communication plan", "System of internal control", "Shareholder relations program"],
                correct: [2],
                explanation: "Internal audit is defined as an independent part of the company that monitors the effective operation of its internal control and risk management systems. It is, therefore, itself a critical component of the overall system of internal control.",
                topic: "The Role of Internal Audit"
            }
        ];

        let currentQuestionIndex = 0;
        let userAnswers = new Array(quizData.length).fill(null);
        let flaggedQuestions = new Array(quizData.length).fill(false);
        let timerInterval;

        const quizContainer = document.getElementById('quiz-container');
        const resultsContainer = document.getElementById('results-container');
        const questionTracker = document.getElementById('question-tracker');
        const questionContent = document.getElementById('question-content');
        const optionsContainer = document.getElementById('options-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const flagBtn = document.getElementById('flag-btn');
        const timerEl = document.getElementById('timer');

        function startQuiz() {
            currentQuestionIndex = 0;
            userAnswers.fill(null);
            flaggedQuestions.fill(false);
            quizContainer.classList.remove('hidden');
            resultsContainer.classList.add('hidden');
            renderQuestionTracker();
            loadQuestion(currentQuestionIndex);
            startTimer(45 * 60);
        }

        function startTimer(duration) {
            let timer = duration, minutes, seconds;
            timerInterval = setInterval(() => {
                minutes = parseInt(timer / 60, 10);
                seconds = parseInt(timer % 60, 10);

                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;

                timerEl.textContent = minutes + ":" + seconds;

                if (--timer < 0) {
                    clearInterval(timerInterval);
                    submitQuiz();
                }
            }, 1000);
        }
        
        function renderQuestionTracker() {
            questionTracker.innerHTML = '';
            for (let i = 0; i < quizData.length; i++) {
                const item = document.createElement('div');
                item.textContent = i + 1;
                item.classList.add('question-tracker-item', 'w-10', 'h-10', 'flex', 'items-center', 'justify-center', 'font-bold', 'rounded-full', 'border-2');
                
                if(flaggedQuestions[i]) {
                    item.classList.add('bg-red-200', 'border-red-500', 'text-red-700');
                } else if (userAnswers[i] !== null) {
                    item.classList.add('bg-green-200', 'border-green-500', 'text-green-700');
                } else {
                    item.classList.add('bg-white', 'border-gray-300', 'text-gray-600');
                }

                if (i === currentQuestionIndex) {
                    item.classList.add('ring-2', 'ring-blue-500', 'ring-offset-2');
                }

                item.addEventListener('click', () => {
                    loadQuestion(i);
                });
                questionTracker.appendChild(item);
            }
        }

        function loadQuestion(index) {
            currentQuestionIndex = index;
            const question = quizData[index];
            
            questionContent.innerHTML = `
                <p class="text-lg text-gray-600">Question ${index + 1} of ${quizData.length} (2 Marks)</p>
                <h3 class="text-xl md:text-2xl font-semibold mt-2">${question.question}</h3>
            `;
            
            optionsContainer.innerHTML = '';
            const questionType = question.type === 'multiple' ? 'checkbox' : 'radio';
            const inputName = `q${index}`;

            question.options.forEach((option, i) => {
                const optionId = `${inputName}_option${i}`;
                const optionWrapper = document.createElement('div');
                optionWrapper.classList.add('option-item', 'border-2', 'border-gray-300', 'p-4', 'rounded-lg', 'hover:bg-blue-50', 'cursor-pointer', 'transition-colors');
                
                const input = document.createElement('input');
                input.type = questionType;
                input.name = inputName;
                input.id = optionId;
                input.value = i;
                input.classList.add('mr-3', 'transform', 'scale-125');

                const label = document.createElement('label');
                label.htmlFor = optionId;
                label.textContent = option;
                label.classList.add('text-lg', 'w-full', 'cursor-pointer');
                
                optionWrapper.appendChild(input);
                optionWrapper.appendChild(label);
                
                // Check if this option was previously selected
                if (question.type === 'multiple') {
                    if (userAnswers[index] && userAnswers[index].includes(i)) {
                       input.checked = true;
                       optionWrapper.classList.add('selected-option');
                    }
                } else {
                    if (userAnswers[index] === i) {
                        input.checked = true;
                        optionWrapper.classList.add('selected-option');
                    }
                }

                optionWrapper.addEventListener('click', (e) => {
                    if (e.target.tagName !== 'INPUT') {
                        input.checked = (questionType === 'checkbox') ? !input.checked : true;
                    }
                    handleOptionSelect(index, questionType);
                });

                optionsContainer.appendChild(optionWrapper);
            });

            updateNavButtons();
            renderQuestionTracker();
            updateFlagButton();
        }

        function handleOptionSelect(questionIndex, type) {
            const inputs = optionsContainer.querySelectorAll('input');
            if (type === 'radio') {
                inputs.forEach((input, i) => {
                    const wrapper = input.parentElement;
                    if (input.checked) {
                        userAnswers[questionIndex] = i;
                        wrapper.classList.add('selected-option');
                    } else {
                         wrapper.classList.remove('selected-option');
                    }
                });
            } else { // Checkbox
                const selected = [];
                inputs.forEach((input, i) => {
                     const wrapper = input.parentElement;
                    if (input.checked) {
                        selected.push(i);
                        wrapper.classList.add('selected-option');
                    } else {
                        wrapper.classList.remove('selected-option');
                    }
                });
                userAnswers[questionIndex] = selected.length > 0 ? selected : null;
            }
            // A brief delay to allow UI to update before tracker rerenders
            setTimeout(renderQuestionTracker, 100);
        }

        function updateNavButtons() {
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = currentQuestionIndex === quizData.length - 1;
            prevBtn.classList.toggle('opacity-50', prevBtn.disabled);
            nextBtn.classList.toggle('opacity-50', nextBtn.disabled);
        }

        function updateFlagButton() {
            if (flaggedQuestions[currentQuestionIndex]) {
                flagBtn.classList.add('bg-red-500', 'hover:bg-red-600');
                flagBtn.classList.remove('bg-yellow-500', 'hover:bg-yellow-600');
                flagBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 01-1-1V6z" clip-rule="evenodd" /></svg> Unflag`;
            } else {
                flagBtn.classList.remove('bg-red-500', 'hover:bg-red-600');
                flagBtn.classList.add('bg-yellow-500', 'hover:bg-yellow-600');
                flagBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 01-1-1V6z" clip-rule="evenodd" /></svg> Flag`;
            }
        }

        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                loadQuestion(currentQuestionIndex - 1);
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < quizData.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            }
        });

        flagBtn.addEventListener('click', () => {
            flaggedQuestions[currentQuestionIndex] = !flaggedQuestions[currentQuestionIndex];
            updateFlagButton();
            renderQuestionTracker();
        });

        submitBtn.addEventListener('click', () => {
            if(confirm('Are you sure you want to submit the quiz?')) {
                submitQuiz();
            }
        });

        function submitQuiz() {
            clearInterval(timerInterval);
            let score = 0;
            let correctCount = 0;
            let incorrectCount = 0;
            const topicMistakes = {};

            quizData.forEach((q, i) => {
                const userAnswer = userAnswers[i];
                let isCorrect = false;

                if (q.type === 'multiple') {
                     if (Array.isArray(userAnswer) && userAnswer.length === q.correct.length && userAnswer.every(val => q.correct.includes(val))) {
                        isCorrect = true;
                    }
                } else if(q.type === 'true_false') {
                    if (userAnswer === q.correct[0]) {
                        isCorrect = true;
                    }
                } else {
                    if (userAnswer === q.correct[0]) {
                        isCorrect = true;
                    }
                }
                
                if (isCorrect) {
                    score += 2;
                    correctCount++;
                } else if(userAnswer !== null) {
                    incorrectCount++;
                     if (topicMistakes[q.topic]) {
                        topicMistakes[q.topic]++;
                    } else {
                        topicMistakes[q.topic] = 1;
                    }
                } else {
                     // Unanswered
                     if (topicMistakes[q.topic]) {
                        topicMistakes[q.topic]++;
                    } else {
                        topicMistakes[q.topic] = 1;
                    }
                }
            });
            
            displayResults(score, correctCount, incorrectCount, topicMistakes);
        }

        function displayResults(score, correctCount, incorrectCount, topicMistakes) {
            quizContainer.classList.add('hidden');
            resultsContainer.classList.remove('hidden');

            const totalQuestions = quizData.length;
            const totalMarks = totalQuestions * 2;
            const percentage = totalMarks > 0 ? ((score / totalMarks) * 100).toFixed(2) : 0;
            const incorrectPercentage = totalQuestions > 0 ? (((incorrectCount + (totalQuestions - correctCount - incorrectCount)) / totalQuestions) * 100).toFixed(2) : 0;


            document.getElementById('total-score').textContent = `${score} / ${totalMarks} (${percentage}%)`;
            document.getElementById('correct-answers').textContent = `${correctCount} / ${totalQuestions}`;
            document.getElementById('incorrect-answers').textContent = `${incorrectCount} / ${totalQuestions}`;
            document.getElementById('incorrect-percentage').textContent = `${incorrectPercentage}%`;

            const weakTopicsList = document.getElementById('weak-topics-list');
            weakTopicsList.innerHTML = '';
            const sortedWeakTopics = Object.entries(topicMistakes).sort(([,a],[,b]) => b-a);
            
            if(sortedWeakTopics.length > 0){
                 sortedWeakTopics.forEach(([topic, count]) => {
                    const li = document.createElement('li');
                    li.textContent = `${topic} (${count} incorrect/unanswered)`;
                    weakTopicsList.appendChild(li);
                });
            } else {
                weakTopicsList.innerHTML = '<li>Excellent work! No specific weak areas identified.</li>'
            }
           

            const reviewArea = document.getElementById('review-area');
            reviewArea.innerHTML = '';
            quizData.forEach((q, i) => {
                const userAnswer = userAnswers[i];
                const reviewBlock = document.createElement('div');
                reviewBlock.classList.add('p-6', 'rounded-lg', 'shadow-md', 'border');

                let questionHtml = `<h4 class="text-xl font-bold mb-4">Question ${i + 1}: ${q.question}</h4>`;
                
                q.options.forEach((opt, j) => {
                    let classes = 'p-3 my-2 rounded-md border';
                    const correctAnswers = q.correct;
                    const isCorrect = correctAnswers.includes(j);
                    let isUserChoice = false;

                    if(q.type === 'multiple'){
                        isUserChoice = Array.isArray(userAnswer) && userAnswer.includes(j);
                    } else {
                         isUserChoice = userAnswer === j;
                    }
                    
                    if (isCorrect) {
                        classes += ' correct-answer';
                    } else if (isUserChoice && !isCorrect) {
                         classes += ' incorrect-answer';
                    }

                    questionHtml += `<div class="${classes}">${opt} ${isUserChoice ? '<span class="font-bold float-right">[Your Answer]</span>' : ''}</div>`;
                });
                
                questionHtml += `<div class="explanation"><strong>Explanation:</strong> ${q.explanation}</div>`;

                reviewBlock.innerHTML = questionHtml;
                reviewArea.appendChild(reviewBlock);
            });
        }
        
        document.getElementById('retake-btn').addEventListener('click', startQuiz);
        
        // Initial load
        document.addEventListener('DOMContentLoaded', startQuiz);

    </script>
</body>
</html>

