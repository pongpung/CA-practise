<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICAB Accounting Exam â€“ The Economic Environment of Business and Finance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .question-tracker-item {
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .question-tracker-item:hover {
            transform: scale(1.1);
        }
        .flagged {
            background-color: #FECACA !important; /* Red-200 */
            color: #991B1B !important; /* Red-800 */
        }
        .answered {
            background-color: #D1FAE5 !important; /* Green-200 */
            color: #065F46 !important; /* Green-800 */
        }
        .current {
            border: 2px solid #3B82F6; /* Blue-500 */
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }
        .result-card {
            transition: transform 0.3s;
        }
        .result-card:hover {
            transform: translateY(-5px);
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div id="quiz-container" class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">
        <h1 class="text-2xl sm:text-3xl font-bold text-center text-gray-900 mb-6">ICAB Accounting Exam â€“ The Economic Environment of Business and Finance</h1>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">

            <!-- Left Side: Question Tracker -->
            <div class="lg:col-span-2 order-2 lg:order-1">
                <div class="bg-white p-4 rounded-lg shadow-md sticky top-6">
                    <h2 class="font-bold mb-4 text-center">Question Tracker</h2>
                    <div id="question-tracker" class="grid grid-cols-5 gap-2">
                        <!-- Tracker items will be generated by JS -->
                    </div>
                </div>
            </div>

            <!-- Center: Question and Answer -->
            <div class="lg:col-span-8 order-1 lg:order-2">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div id="question-area">
                        <!-- Question will be loaded here -->
                    </div>
                    <div class="mt-8 flex justify-between items-center">
                        <button id="prev-btn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg transition duration-300">Previous</button>
                        <button id="next-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300">Next</button>
                    </div>
                    <div class="mt-10 text-center">
                        <button id="submit-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg transition duration-300 text-lg">Submit Quiz</button>
                    </div>
                </div>
            </div>

            <!-- Right Side: Timer and Flag -->
            <div class="lg:col-span-2 order-3 lg:order-3">
                <div class="bg-white p-4 rounded-lg shadow-md sticky top-6 text-center">
                    <h2 class="font-bold mb-2">Time Remaining</h2>
                    <div id="timer" class="text-3xl font-bold text-red-600">45:00</div>
                    <button id="flag-btn" class="mt-4 w-full bg-yellow-400 hover:bg-yellow-500 text-yellow-800 font-bold py-2 px-4 rounded-lg transition duration-300">
                        ðŸš© Flag for Review
                    </button>
                </div>
            </div>

        </div>
    </div>

    <!-- Results Container -->
    <div id="results-container" class="hidden max-w-5xl mx-auto p-4 sm:p-6 lg:p-8">
        <!-- Results will be shown here -->
    </div>


    <script>
        const quizData = [
            // Questions will be inserted here
            {
                question: "Which of the following best describes the 'microeconomic environment' of a business?",
                options: [
                    "The national and global economic influences like inflation and interest rates.",
                    "How the market mechanism, including demand and supply, affects the business.",
                    "Government fiscal and monetary policies.",
                    "The business/trade cycle of boom and recession."
                ],
                type: "single",
                correct: [1],
                explanation: "The microeconomic environment of a business involves looking at how the market (or price) mechanism works, which includes demand, supply, and market structures. The other options relate to the macroeconomic environment. (Reference: Chapter 11, Section 1)"
            },
            {
                question: "According to the factors of production, what is the return for 'Entrepreneurship'?",
                options: [
                    "Rent",
                    "Wages",
                    "Interest",
                    "Profit"
                ],
                type: "single",
                correct: [3],
                explanation: "The four factors of production and their returns are: Land (Rent), Labour (Wages), Capital (Interest), and Entrepreneurship (Profit). (Reference: Chapter 11, Section 2.1)"
            },
            {
                question: "A government increases taxes on high-income earners and uses the revenue to increase social security benefits for low-income families. This action is an example of the government acting as a:",
                options: [
                    "Producer",
                    "Purchaser",
                    "Investor",
                    "Transferor"
                ],
                type: "single",
                correct: [3],
                explanation: "This is a transfer payment, where the government moves funds from one section of the economy (taxpayers) to another (benefit recipients) without directly receiving goods or services in return. (Reference: Chapter 11, Section 2.1.1)"
            },
            {
                question: "The marginal propensity to consume (MPC) is best defined as:",
                options: [
                    "The total amount of income spent on consumption.",
                    "The proportion of an increase in disposable income that is allocated to consumption rather than saving.",
                    "The total savings of a household as a percentage of income.",
                    "The tendency for consumers to spend more when prices are expected to rise."
                ],
                type: "single",
                correct: [1],
                explanation: "The marginal propensity to consume (MPC) measures how much of an *additional* unit of disposable income is spent on consumption. It's a key determinant of how changes in income affect overall spending in the economy. (Reference: Chapter 11, Section 2.1.2)"
            },
            {
                question: "Which of the following factors would likely *decrease* business investment in the national economy? (Choose TWO correct answers)",
                options: [
                    "A decrease in interest rates.",
                    "A rise in consumer demand.",
                    "A decrease in business confidence and expectations about the future.",
                    "A high interest rate on capital."
                ],
                type: "multiple",
                correct: [2, 3],
                explanation: "High interest rates increase the cost of borrowing for investment, making fewer projects profitable. A decrease in business confidence means firms are less optimistic about future returns, thus reducing their willingness to invest. A decrease in interest rates and a rise in consumer demand would both typically *increase* investment. (Reference: Chapter 11, Section 2.1.4)"
            },
            {
                question: "In the business/trade cycle, the phase characterized by falling consumer demand, rising business failures, and diminishing confidence is known as a ________.",
                options: [
                    "Boom",
                    "Recovery",
                    "Recession",
                    "Depression"
                ],
                type: "fill-in-the-blank",
                correct: [2],
                explanation: "A recession is the phase of the business cycle where economic activity contracts. It is marked by falling demand, reduced production, rising unemployment, and a general loss of confidence. (Reference: Chapter 11, Section 2.2.1)"
            },
            {
                question: "Cost-push inflation occurs when there is an increase in the costs of production, such as wages or raw materials.",
                options: [
                    "True",
                    "False"
                ],
                type: "true-false",
                correct: [0],
                explanation: "Cost-push inflation is correctly defined as price rises resulting from an increase in the costs of production of goods and services, such as imported raw materials or wage increases. (Reference: Chapter 11, Section 2.3.2)"
            },
            {
                question: "A government's use of taxation and public spending to influence aggregate demand is known as:",
                options: [
                    "Monetary Policy",
                    "Fiscal Policy",
                    "Supply-Side Policy",
                    "Quantitative Easing"
                ],
                type: "single",
                correct: [1],
                explanation: "Fiscal policy refers to government policies on taxation, public borrowing, and public spending. It is a primary tool for managing aggregate demand in the economy. (Reference: Chapter 11, Section 2.4.3)"
            },
            {
                question: "Which of the following are examples of supply-side macroeconomic policies? (Choose MULTIPLE correct answers)",
                options: [
                    "Increasing interest rates to control inflation.",
                    "Reducing taxes to increase incentives to supply.",
                    "Increasing competition through deregulation and privatisation.",
                    "Increasing government spending on infrastructure projects."
                ],
                type: "multiple",
                correct: [1, 2],
                explanation: "Supply-side policies aim to increase the productive capacity of the economy. Reducing taxes can incentivize work and investment, while deregulation and privatisation aim to make markets more competitive and efficient. Increasing interest rates is a monetary policy, and increasing government spending is a fiscal (demand-side) policy. (Reference: Chapter 11, Section 2.4.4)"
            },
            {
                question: "The interaction of demand and supply for a particular item is known as the ________.",
                options: [
                    "Market Structure",
                    "Equilibrium Price",
                    "Market Mechanism",
                    "Price Elasticity"
                ],
                type: "fill-in-the-blank",
                correct: [2],
                explanation: "The market mechanism is the process by which the forces of demand and supply interact to determine the price and quantity of goods and services in a market. (Reference: Chapter 11, Section 3)"
            },
            {
                question: "A typical demand curve slopes downwards from left to right because:",
                options: [
                    "As price falls, suppliers are willing to produce more.",
                    "As price rises, consumers' real income increases.",
                    "A fall in the price of a good makes it relatively cheaper compared to other goods, so expenditure is shifted towards it.",
                    "All of the above."
                ],
                type: "single",
                correct: [2],
                explanation: "The downward slope of the demand curve illustrates the law of demand: as the price of a good decreases, the quantity demanded increases. This is primarily due to the substitution effect (the good becomes cheaper relative to others) and the income effect (consumers' purchasing power increases). (Reference: Chapter 11, Section 4.2)"
            },
            {
                question: "If tea and coffee are substitute goods, an increase in the price of tea will lead to:",
                options: [
                    "A decrease in the demand for coffee.",
                    "An increase in the demand for coffee.",
                    "No change in the demand for coffee.",
                    "An increase in the supply of tea."
                ],
                type: "single",
                correct: [1],
                explanation: "Substitute goods are alternatives. If the price of tea rises, consumers will switch to the relatively cheaper alternative, which is coffee. This causes the demand curve for coffee to shift to the right. (Reference: Chapter 11, Section 4.3.3)"
            },
            {
                question: "Goods whose demand falls as consumer income rises are known as:",
                options: [
                    "Normal Goods",
                    "Luxury Goods",
                    "Giffen Goods",
                    "Inferior Goods"
                ],
                type: "single",
                correct: [3],
                explanation: "Inferior goods are those for which demand decreases as income increases. Consumers switch to higher-quality, more expensive alternatives as their purchasing power grows. Examples might include budget brand foods or public transportation. (Reference: Chapter 11, Section 4.3.4)"
            },
            {
                question: "A movement *along* the demand curve is caused by a change in ________, while a *shift* of the demand curve is caused by a change in ________.",
                options: [
                    "consumer income; the price of the good",
                    "the price of the good; a factor other than price",
                    "fashion; consumer income",
                    "the price of a substitute; the price of the good"
                ],
                type: "fill-in-the-blank",
                correct: [1],
                explanation: "It is a fundamental concept in demand theory that a change in the good's own price causes a movement along the existing demand curve. A change in any other determinant of demand (like income, tastes, or prices of related goods) will shift the entire curve to the left or right. (Reference: Chapter 11, Section 4.4)"
            },
            {
                question: "Which of the following would cause the supply curve for smartphones to shift to the right?",
                options: [
                    "An increase in the wages of factory workers.",
                    "A technological advancement that reduces production costs.",
                    "An increase in the price of a key component like microchips.",
                    "An increase in consumer demand for smartphones."
                ],
                type: "single",
                correct: [1],
                explanation: "A shift to the right of the supply curve indicates an increase in supply at every price level. A technological advancement that lowers production costs makes it more profitable for firms to supply more at any given price. The other options would cause a shift to the left (increase in costs) or a movement along the curve (change in demand). (Reference: Chapter 11, Section 5.3)"
            },
            {
                question: "The equilibrium price in a market is the price at which:",
                options: [
                    "The quantity supplied is greater than the quantity demanded.",
                    "The quantity demanded is greater than the quantity supplied.",
                    "The quantity demanded equals the quantity supplied.",
                    "Producers earn the maximum possible profit."
                ],
                type: "single",
                correct: [2],
                explanation: "The equilibrium price, or market-clearing price, is where the demand curve and supply curve intersect. At this point, the amount consumers are willing to buy exactly matches the amount producers are willing to sell, resulting in a stable market with no surplus or shortage. (Reference: Chapter 11, Section 6.2)"
            },
            {
                question: "If the government sets a maximum price for rental accommodation that is *below* the equilibrium price, the likely result is:",
                options: [
                    "A surplus of rental accommodation.",
                    "A shortage of rental accommodation.",
                    "An increase in the quality of rental accommodation.",
                    "No effect on the rental market."
                ],
                type: "single",
                correct: [1],
                explanation: "A maximum price (price ceiling) set below equilibrium creates excess demand (a shortage). At the artificially low price, more people will want to rent than landlords are willing to supply, leading to queues, black markets, or a decline in property maintenance. (Reference: Chapter 11, Section 6.4)"
            },
            {
                question: "The price of a product increases from BDT 100 to BDT 110. As a result, the quantity demanded falls from 200 units to 180 units. The Price Elasticity of Demand (PED) is:",
                options: [
                    "-0.5",
                    "-1.0",
                    "-1.5",
                    "-2.0"
                ],
                type: "calculation",
                correct: [1],
                explanation: "PED = (% Change in Quantity Demanded) / (% Change in Price). % Change in Q = ((180 - 200) / 200) * 100% = -10%. % Change in P = ((110 - 100) / 100) * 100% = +10%. PED = -10% / 10% = -1.0. This is unit elastic demand. (Reference: Chapter 11, Section 7.1)"
            },
            {
                question: "If the demand for a product is price inelastic (PED < 1), a decrease in its price will lead to:",
                options: [
                    "An increase in total revenue.",
                    "A decrease in total revenue.",
                    "No change in total revenue.",
                    "A proportionally larger increase in quantity demanded."
                ],
                type: "single",
                correct: [1],
                explanation: "When demand is inelastic, the percentage change in quantity demanded is smaller than the percentage change in price. Therefore, if the price is lowered, the small increase in quantity sold is not enough to offset the lower price per unit, resulting in a fall in total revenue. (Reference: Chapter 11, Section 7.3)"
            },
            {
                question: "Which of the following goods is most likely to have a highly elastic demand?",
                options: [
                    "Essential life-saving medication.",
                    "A specific brand of luxury car.",
                    "Salt.",
                    "Tap water."
                ],
                type: "single",
                correct: [1],
                explanation: "Demand is more elastic for goods that have many substitutes, are luxuries, or represent a large portion of income. A specific brand of luxury car has many substitutes (other luxury cars), making its demand elastic. The other options are necessities with few or no substitutes, leading to inelastic demand. (Reference: Chapter 11, Section 7.4)"
            },
            {
                question: "A Giffen good is a special type of inferior good where an increase in price leads to an increase in demand.",
                options: [
                    "True",
                    "False"
                ],
                type: "true-false",
                correct: [0],
                explanation: "This statement is true. For a Giffen good, the income effect of a price rise (which reduces purchasing power) is so strong that it outweighs the substitution effect, causing consumers to buy more of the good, not less. This is a rare exception to the law of demand. (Reference: Chapter 11, Section 7.3.1)"
            },
            {
                question: "If a 5% increase in consumer income leads to a 10% increase in the demand for foreign holidays, the income elasticity of demand is ______, and foreign holidays are considered a ______ good.",
                options: [
                    "0.5; normal",
                    "2.0; luxury",
                    "-0.5; inferior",
                    "2.0; inferior"
                ],
                type: "fill-in-the-blank",
                correct: [1],
                explanation: "Income Elasticity = % Change in Quantity Demanded / % Change in Income = 10% / 5% = 2.0. Since the value is greater than 1, the good is income elastic, which is characteristic of a luxury good. (Reference: Chapter 11, Section 7.5)"
            },
            {
                question: "If the cross elasticity of demand between printers and ink cartridges is -2.5, it means they are:",
                options: [
                    "Substitutes",
                    "Complements",
                    "Unrelated goods",
                    "Inferior goods"
                ],
                type: "single",
                correct: [1],
                explanation: "A negative cross elasticity of demand indicates that the two goods are complements. A rise in the price of one (printers) leads to a fall in the demand for the other (ink cartridges), as they are used together. (Reference: Chapter 11, Section 7.6)"
            },
            {
                question: "In the short run, the price elasticity of supply is generally:",
                options: [
                    "More elastic than in the long run.",
                    "Less elastic than in the long run.",
                    "Perfectly elastic.",
                    "The same as in the long run."
                ],
                type: "single",
                correct: [1],
                explanation: "In the short run, firms have limited ability to change their production capacity. In the long run, they can build new factories, hire more workers, and new firms can enter the market, making supply much more responsive (elastic) to price changes. (Reference: Chapter 11, Section 7.7.1)"
            },
            {
                question: "Which of the following is NOT a characteristic of a perfectly competitive market?",
                options: [
                    "Many small buyers and sellers.",
                    "Differentiated products.",
                    "No barriers to entry or exit.",
                    "Perfect information."
                ],
                type: "single",
                correct: [1],
                explanation: "A key characteristic of perfect competition is that all firms produce a homogeneous (identical) product. Product differentiation is a feature of monopolistic competition and oligopoly. (Reference: Chapter 11, Section 8.1)"
            },
            {
                question: "A market structure with a single dominant supplier and significant barriers to entry is known as:",
                options: [
                    "Perfect Competition",
                    "Monopolistic Competition",
                    "Oligopoly",
                    "Monopoly"
                ],
                type: "single",
                correct: [3],
                explanation: "A monopoly is defined by having one supplier (or one with a dominant market share) and high barriers that prevent other firms from entering the market and competing. (Reference: Chapter 11, Section 8.2)"
            },
            {
                question: "The market for restaurants and hairdressers is a typical example of:",
                options: [
                    "Monopoly",
                    "Oligopoly",
                    "Monopolistic Competition",
                    "Perfect Competition"
                ],
                type: "single",
                correct: [2],
                explanation: "These markets have many sellers, but each offers a slightly differentiated product or service (e.g., through branding, location, or quality). There are also relatively low barriers to entry. These are the defining features of monopolistic competition. (Reference: Chapter 11, Section 8.3)"
            },
            {
                question: "In an oligopoly, firms are highly interdependent and often compete through non-price competition like advertising and branding.",
                options: [
                    "True",
                    "False"
                ],
                type: "true-false",
                correct: [0],
                explanation: "This is true. In an oligopoly, with only a few large firms, the actions of one firm directly impact the others. They are often hesitant to compete on price (fearing price wars) and instead focus on advertising, product features, and brand loyalty to gain market share. (Reference: Chapter 11, Section 8.4)"
            },
            {
                question: "Which of the following describe 'allocative efficiency'? (Choose TWO correct answers)",
                options: [
                    "Producing goods and services at the lowest possible factor cost.",
                    "Resources are allocated such that it's impossible to re-allocate them to increase overall benefit.",
                    "Goods and services that are wanted by buyers are produced in optimum quantities.",
                    "Firms are earning supernormal profits."
                ],
                type: "multiple",
                correct: [1, 2],
                explanation: "Allocative efficiency occurs when the mix of goods being produced reflects what society desires most. It means resources are directed to their highest-valued uses. Producing at the lowest cost is 'productive efficiency'. (Reference: Chapter 11, Section 9.1)"
            },
            {
                question: "Market failure can be caused by which of the following? (Choose MULTIPLE correct answers)",
                options: [
                    "The existence of perfect competition.",
                    "Externalities, such as pollution.",
                    "The existence of public goods.",
                    "Market imperfections like monopolies."
                ],
                type: "multiple",
                correct: [1, 2, 3],
                explanation: "Market failure occurs when a free market fails to allocate resources efficiently. This can be due to externalities (costs or benefits not reflected in market prices), public goods (which are non-excludable and non-rivalrous), and market imperfections (like monopoly power). Perfect competition is considered the ideal, not a cause of failure. (Reference: Chapter 11, Section 9.2)"
            },
            {
                question: "A factory pollutes a nearby river. The cost of this pollution to the local community is an example of a:",
                options: [
                    "Private Cost",
                    "Private Benefit",
                    "Negative Externality",
                    "Positive Externality"
                ],
                type: "single",
                correct: [2],
                explanation: "An externality is a cost or benefit imposed on a third party who is not directly involved in a transaction. Pollution is a classic example of a negative externality, as its cost (e.g., environmental damage, health problems) is borne by society, not just the polluting firm. (Reference: Chapter 11, Section 9.4)"
            },
            {
                question: "National defense is considered a public good because it is:",
                options: [
                    "Provided by the government and expensive.",
                    "Non-excludable and non-rivalrous.",
                    "Only available to citizens who pay taxes.",
                    "A natural monopoly."
                ],
                type: "single",
                correct: [1],
                explanation: "Public goods have two key characteristics: they are non-excludable (it's impossible to prevent anyone from benefiting) and non-rivalrous (one person's consumption doesn't reduce the amount available for others). National defense fits this description perfectly. (Reference: Chapter 11, Section 9.5)"
            },
            {
                question: "Economies of scale that arise from the growth of an entire industry, such as the development of a specialized local labor force, are known as ________ economies of scale.",
                options: [
                    "Internal",
                    "External",
                    "Dimensional",
                    "Buying"
                ],
                type: "fill-in-the-blank",
                correct: [1],
                explanation: "External economies of scale are cost advantages that a firm gains due to the growth of the industry it is in, not due to its own increase in scale. These benefits are available to all firms in the industry. (Reference: Chapter 11, Section 9.6.1)"
            },
            {
                question: "A government policy of quantitative easing primarily involves:",
                options: [
                    "The central bank raising interest rates to combat inflation.",
                    "The government increasing its spending on public services.",
                    "The central bank buying government and corporate bonds to inject liquidity into the financial system.",
                    "The government reducing taxes to stimulate consumer spending."
                ],
                type: "single",
                correct: [2],
                explanation: "Quantitative easing is an expansionary monetary policy where the central bank creates new money to purchase assets (like bonds) from commercial banks. This increases the banks' liquidity, encouraging them to lend more, which stimulates investment and spending. (Reference: Chapter 11, Section 2.4.2)"
            },
            {
                question: "If a country's inflation rate is significantly higher than its trading partners, what is the likely effect on its balance of payments?",
                options: [
                    "Its exports will become relatively cheaper and imports more expensive.",
                    "Its exports will become relatively expensive and imports cheaper.",
                    "There will be no effect on exports or imports.",
                    "Both exports and imports will become more expensive."
                ],
                type: "single",
                correct: [1],
                explanation: "High domestic inflation makes a country's goods more expensive for foreigners to buy (hurting exports) and makes foreign goods relatively cheaper for domestic consumers (boosting imports). This can lead to a worsening of the country's trade balance. (Reference: Chapter 11, Section 2.3.1)"
            },
            {
                question: "A shift of the supply curve to the left could be caused by which of the following conditions?",
                options: [
                    "A fall in the cost of raw materials.",
                    "An improvement in production technology.",
                    "A rise in factor costs, such as wages.",
                    "An increase in government subsidies to producers."
                ],
                type: "single",
                correct: [2],
                explanation: "A shift of the supply curve to the left represents a decrease in supply at every price level. A rise in factor costs (like wages or materials) makes production more expensive, leading firms to supply less at any given price. (Reference: Chapter 11, Section 5.3)"
            },
            {
                question: "Which type of market structure is characterized by a 'kinked demand curve' model, where firms match price cuts but not price increases?",
                options: [
                    "Perfect Competition",
                    "Monopoly",
                    "Monopolistic Competition",
                    "Oligopoly"
                ],
                type: "single",
                correct: [3],
                explanation: "The kinked demand curve model is a theory used to explain price rigidity in oligopolistic markets. It assumes that rivals will follow a price cut to protect their market share but will ignore a price increase, hoping to gain customers. This creates a 'kink' in the firm's demand curve and discourages frequent price changes. (This is an advanced concept related to Oligopoly in Section 8.4)"
            },
            {
                question: "The 'boom' phase of the business cycle is typically characterized by:",
                options: [
                    "High unemployment and falling prices.",
                    "Rising output, employment, and income.",
                    "Full capacity utilization, potential bottlenecks, and rising prices.",
                    "Low business confidence and reduced investment."
                ],
                type: "single",
                correct: [2],
                explanation: "During a boom, the economy is operating at or above its full capacity. This leads to shortages of labor and materials (bottlenecks), pushing up costs and prices (inflation). Business confidence is typically very high. (Reference: Chapter 11, Section 2.2.4)"
            },
            {
                question: "Which of the following government actions represents an expansionary fiscal stance?",
                options: [
                    "Increasing taxation with no change in government spending.",
                    "Decreasing government spending and decreasing borrowing.",
                    "Increasing government spending financed by increased borrowing.",
                    "Increasing both taxation and government spending by the same amount."
                ],
                type: "single",
                correct: [2],
                explanation: "An expansionary fiscal stance aims to increase aggregate demand. This is achieved by increasing government spending (injecting money into the economy) and/or decreasing taxes (leaving more money for consumers and businesses to spend). Financing this through borrowing amplifies the expansionary effect. (Reference: Chapter 11, Section 2.4.3)"
            },
            {
                question: "A 'monopsony' buyer is a single dominant ________ in a market.",
                options: [
                    "seller",
                    "producer",
                    "buyer",
                    "regulator"
                ],
                type: "fill-in-the-blank",
                correct: [2],
                explanation: "A monopsony is the mirror image of a monopoly. It is a market situation where there is only one buyer for a particular good or service, giving that buyer significant power over the sellers. (Reference: Chapter 11, Section 9.3)"
            },
            // Scenario-Based Question 1 (Questions 41-43)
            {
                scenario: "The government of Bangladesh is concerned about the rising consumption of sugary drinks and its impact on public health. To discourage consumption, they are considering imposing a significant excise duty (a form of tax) on these drinks. The demand for sugary drinks is estimated to be price inelastic, with a PED of -0.4. The current average price is BDT 25 per bottle, and 10 million bottles are sold annually.",
                question: "If the tax increases the price of sugary drinks to BDT 30 per bottle, what will be the new annual quantity demanded?",
                options: [
                    "9.2 million bottles",
                    "8.0 million bottles",
                    "9.5 million bottles",
                    "10.8 million bottles"
                ],
                type: "calculation",
                correct: [0],
                explanation: "Price change = (30-25)/25 = 20%. PED = %Î”Q / %Î”P => -0.4 = %Î”Q / 20% => %Î”Q = -8%. New Quantity = 10 million * (1 - 0.08) = 9.2 million bottles. (Reference: Chapter 11, Section 7.1)"
            },
            {
                scenario: "The government of Bangladesh is concerned about the rising consumption of sugary drinks and its impact on public health. To discourage consumption, they are considering imposing a significant excise duty (a form of tax) on these drinks. The demand for sugary drinks is estimated to be price inelastic, with a PED of -0.4. The current average price is BDT 25 per bottle, and 10 million bottles are sold annually.",
                question: "What will be the effect of this price increase on the total revenue of sugary drink producers (excluding the tax paid to the government)?",
                options: [
                    "Total revenue will increase.",
                    "Total revenue will decrease.",
                    "Total revenue will remain the same.",
                    "The effect cannot be determined."
                ],
                type: "single",
                correct: [0],
                explanation: "Since demand is price inelastic (PED < 1), an increase in price will lead to a proportionally smaller decrease in quantity demanded. Therefore, the total revenue for producers will increase. Original Revenue = 25 * 10m = 250m. New Revenue = 30 * 9.2m = 276m. (Reference: Chapter 11, Section 7.3)"
            },
            {
                scenario: "The government of Bangladesh is concerned about the rising consumption of sugary drinks and its impact on public health. To discourage consumption, they are considering imposing a significant excise duty (a form of tax) on these drinks. The demand for sugary drinks is estimated to be price inelastic, with a PED of -0.4. The current average price is BDT 25 per bottle, and 10 million bottles are sold annually.",
                question: "The negative health impact on society from the consumption of these drinks, which is not reflected in their market price, is an example of:",
                options: [
                    "A public good",
                    "A negative externality",
                    "Productive inefficiency",
                    "A Veblen good"
                ],
                type: "single",
                correct: [1],
                explanation: "The social costs (e.g., increased healthcare expenditure) associated with consuming sugary drinks are not borne by the producers or consumers in the transaction. This is a classic example of a negative externality, which is a form of market failure. (Reference: Chapter 11, Section 9.4)"
            },
            // Scenario-Based Question 2 (Questions 44-45)
            {
                scenario: "AlphaCorp is the sole provider of electricity in a remote region of Bangladesh, operating the entire grid. The high initial cost of building the power plants and transmission lines makes it economically unfeasible for another company to enter the market. The government regulates the prices AlphaCorp can charge to protect consumers.",
                question: "AlphaCorp's market structure is best described as a:",
                options: [
                    "Perfect competition",
                    "Duopoly",
                    "Natural monopoly",
                    "Monopolistic competition"
                ],
                type: "single",
                correct: [2],
                explanation: "This is a natural monopoly. It arises because the industry has extremely high fixed costs, creating massive economies of scale such that the most efficient way to serve the market is with a single firm. The barriers to entry (high capital cost) are a key feature. (Reference: Chapter 11, Section 8.2)"
            },
            {
                scenario: "AlphaCorp is the sole provider of electricity in a remote region of Bangladesh, operating the entire grid. The high initial cost of building the power plants and transmission lines makes it economically unfeasible for another company to enter the market. The government regulates the prices AlphaCorp can charge to protect consumers.",
                question: "The government's price regulation is a response to which type of market failure?",
                options: [
                    "Public goods",
                    "Externalities",
                    "Asymmetric information",
                    "Market imperfection (monopoly power)"
                ],
                type: "single",
                correct: [3],
                explanation: "Without regulation, a monopolist like AlphaCorp could restrict output and charge excessively high prices, leading to an inefficient allocation of resources. Government regulation aims to correct this market imperfection by forcing the price closer to what it would be in a competitive market. (Reference: Chapter 11, Section 9.3)"
            },
            {
                question: "The 'signalling' function of the price mechanism refers to:",
                options: [
                    "Prices providing information to buyers and sellers, guiding their economic decisions.",
                    "The government sending signals to the market through policy changes.",
                    "Firms signalling their intentions to competitors through advertising.",
                    "None of the above."
                ],
                type: "single",
                correct: [0],
                explanation: "Prices act as signals. A rising price signals to producers that a good is in high demand, encouraging more supply. It signals to consumers to perhaps consume less or find alternatives. This is a core part of how the price mechanism allocates resources. (Reference: Chapter 11, Section 6.1)"
            },
            {
                question: "If the demand for a product is perfectly inelastic, its demand curve will be:",
                options: [
                    "A horizontal straight line.",
                    "A vertical straight line.",
                    "A downward sloping curve.",
                    "An upward sloping curve."
                ],
                type: "single",
                correct: [1],
                explanation: "Perfectly inelastic demand (PED = 0) means that the quantity demanded does not change at all, regardless of the price. This is represented graphically as a vertical demand curve. (Reference: Chapter 11, Section 7.2.1)"
            },
            {
                question: "All of the following are examples of internal economies of scale EXCEPT:",
                options: [
                    "Bulk purchase discounts on raw materials.",
                    "The development of specialized ancillary industries that support a large main industry.",
                    "Using larger, more specialized machinery.",
                    "Greater specialization and division of labor within the firm."
                ],
                type: "single",
                correct: [1],
                explanation: "The development of specialized ancillary industries is an example of an external economy of scale, as it benefits all firms in the growing industry, not just one firm because of its own size. The other options are all internal economies of scale. (Reference: Chapter 11, Section 9.6.1)"
            },
            {
                question: "During a period of recovery in the business cycle, which of the following is likely to occur?",
                options: [
                    "Output, employment, and income will begin to fall.",
                    "Business expectations will be pessimistic.",
                    "The average price level will begin to rise slowly or remain constant.",
                    "Investment expenditure will be very low."
                ],
                type: "single",
                correct: [2],
                explanation: "The recovery phase is when the economy starts to grow again after a recession. Output, employment, and income rise, business confidence returns, and new investment is undertaken. Initially, price increases are modest as there is still spare capacity in the economy. (Reference: Chapter 11, Section 2.2.3)"
            },
            {
                question: "Which of the following statements is FALSE regarding a monopoly?",
                options: [
                    "A monopolist can set both the price and the quantity supplied to the market.",
                    "A monopolist can earn supernormal profits in the long run.",
                    "Barriers to entry are a key characteristic of a monopoly.",
                    "A pure monopoly exists when there is only one supplier in the market."
                ],
                type: "single",
                correct: [0],
                explanation: "A monopolist faces the market demand curve. They can choose to set the price, and the market will determine the quantity demanded, OR they can choose the quantity to supply, and the market will determine the price. They cannot independently set both. (Reference: Chapter 11, Section 8.2)"
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let userAnswers = new Array(quizData.length).fill(null);
        let flaggedQuestions = new Array(quizData.length).fill(false);
        let timerInterval;
        let timeRemaining = 45 * 60; // 45 minutes in seconds

        const quizContainer = document.getElementById('quiz-container');
        const resultsContainer = document.getElementById('results-container');
        const questionArea = document.getElementById('question-area');
        const questionTracker = document.getElementById('question-tracker');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const flagBtn = document.getElementById('flag-btn');
        const timerEl = document.getElementById('timer');

        function startQuiz() {
            renderQuestionTracker();
            loadQuestion(currentQuestion);
            startTimer();
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                timeRemaining--;
                const minutes = Math.floor(timeRemaining / 60);
                const seconds = timeRemaining % 60;
                timerEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz();
                }
            }, 1000);
        }

        function renderQuestionTracker() {
            questionTracker.innerHTML = '';
            for (let i = 0; i < quizData.length; i++) {
                const trackerItem = document.createElement('div');
                trackerItem.textContent = i + 1;
                trackerItem.classList.add('question-tracker-item', 'w-8', 'h-8', 'flex', 'items-center', 'justify-center', 'font-bold', 'rounded-md', 'border', 'border-gray-300', 'bg-white');
                if (userAnswers[i] !== null) {
                    trackerItem.classList.add('answered');
                }
                if (flaggedQuestions[i]) {
                    trackerItem.classList.add('flagged');
                }
                if (i === currentQuestion) {
                    trackerItem.classList.add('current');
                }
                trackerItem.addEventListener('click', () => jumpToQuestion(i));
                questionTracker.appendChild(trackerItem);
            }
        }

        function loadQuestion(index) {
            const q = quizData[index];
            let optionsHTML = '';
            
            if (q.type === 'single' || q.type === 'multiple' || q.type === 'fill-in-the-blank' || q.type === 'calculation') {
                 q.options.forEach((option, i) => {
                    const inputType = q.type === 'multiple' ? 'checkbox' : 'radio';
                    const isChecked = userAnswers[index] !== null && (q.type === 'multiple' ? userAnswers[index].includes(i) : userAnswers[index] === i) ? 'checked' : '';
                    optionsHTML += `
                        <label class="block border border-gray-200 rounded-lg p-4 mb-3 hover:bg-gray-50 cursor-pointer">
                            <input type="${inputType}" name="option" value="${i}" class="mr-3" ${isChecked}>
                            ${String.fromCharCode(65 + i)}. ${option}
                        </label>
                    `;
                });
            } else if (q.type === 'true-false') {
                 q.options.forEach((option, i) => {
                    const isChecked = userAnswers[index] !== null && userAnswers[index] === i ? 'checked' : '';
                     optionsHTML += `
                        <label class="block border border-gray-200 rounded-lg p-4 mb-3 hover:bg-gray-50 cursor-pointer">
                            <input type="radio" name="option" value="${i}" class="mr-3" ${isChecked}>
                            ${option}
                        </label>
                    `;
                 });
            }

            let scenarioHTML = q.scenario ? `<div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6 rounded-r-lg"><p class="text-sm italic">${q.scenario}</p></div>` : '';

            questionArea.innerHTML = `
                ${scenarioHTML}
                <div class="flex justify-between items-start">
                    <p class="text-lg font-semibold mb-4">Question ${index + 1} of ${quizData.length}</p>
                    <p class="text-sm font-medium text-gray-600">(2 Marks)</p>
                </div>
                <p class="text-base mb-6">${q.question}</p>
                <div id="options-container">${optionsHTML}</div>
            `;
            
            updateNavigation();
            updateFlagButton();
            renderQuestionTracker();
        }

        function updateNavigation() {
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.disabled = currentQuestion === quizData.length - 1;
            prevBtn.classList.toggle('opacity-50', prevBtn.disabled);
            nextBtn.classList.toggle('opacity-50', nextBtn.disabled);
        }
        
        function updateFlagButton() {
            if (flaggedQuestions[currentQuestion]) {
                flagBtn.textContent = 'ðŸš© Unflag Question';
                flagBtn.classList.add('bg-red-200', 'text-red-800');
                flagBtn.classList.remove('bg-yellow-400', 'text-yellow-800');
            } else {
                flagBtn.textContent = 'ðŸš© Flag for Review';
                flagBtn.classList.remove('bg-red-200', 'text-red-800');
                flagBtn.classList.add('bg-yellow-400', 'text-yellow-800');
            }
        }

        function saveAnswer() {
            const q = quizData[currentQuestion];
            const inputs = document.querySelectorAll('input[name="option"]');
            if (q.type === 'multiple') {
                const selected = [];
                inputs.forEach(input => {
                    if (input.checked) {
                        selected.push(parseInt(input.value));
                    }
                });
                userAnswers[currentQuestion] = selected.length > 0 ? selected : null;
            } else {
                let selected = null;
                inputs.forEach(input => {
                    if (input.checked) {
                        selected = parseInt(input.value);
                    }
                });
                userAnswers[currentQuestion] = selected;
            }
        }

        function jumpToQuestion(index) {
            saveAnswer();
            currentQuestion = index;
            loadQuestion(currentQuestion);
        }

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 0) {
                saveAnswer();
                currentQuestion--;
                loadQuestion(currentQuestion);
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < quizData.length - 1) {
                saveAnswer();
                currentQuestion++;
                loadQuestion(currentQuestion);
            }
        });
        
        flagBtn.addEventListener('click', () => {
            flaggedQuestions[currentQuestion] = !flaggedQuestions[currentQuestion];
            updateFlagButton();
            renderQuestionTracker();
        });

        submitBtn.addEventListener('click', () => {
            // FIX: Removed the confirm() dialog which does not work in this environment.
            // The button now directly submits the quiz.
            submitQuiz();
        });

        function submitQuiz() {
            saveAnswer();
            clearInterval(timerInterval);
            calculateScore();
            showResults();
        }

        function calculateScore() {
            score = 0;
            quizData.forEach((q, index) => {
                const userAnswer = userAnswers[index];
                if (userAnswer === null) return;

                if (q.type === 'multiple') {
                    const correctAnswers = q.correct;
                    if (userAnswer.length === correctAnswers.length && userAnswer.every(val => correctAnswers.includes(val))) {
                        score += 2;
                    }
                } else {
                    if (userAnswer === q.correct[0]) {
                        score += 2;
                    }
                }
            });
        }

        function showResults() {
            quizContainer.classList.add('hidden');
            resultsContainer.classList.remove('hidden');

            const totalQuestions = quizData.length;
            const totalMarks = totalQuestions * 2;
            const correctAnswersCount = score / 2;
            const incorrectAnswersCount = totalQuestions - correctAnswersCount;
            const percentage = ((score / totalMarks) * 100).toFixed(2);
            const incorrectPercentage = ((incorrectAnswersCount / totalQuestions) * 100).toFixed(2);
            
            // Topic analysis
            const topicMistakes = {};
            quizData.forEach((q, index) => {
                const isCorrect = (q.type === 'multiple')
                    ? (userAnswers[index] && userAnswers[index].length === q.correct.length && userAnswers[index].every(val => q.correct.includes(val)))
                    : userAnswers[index] === q.correct[0];
                
                if (!isCorrect) {
                    const topicMatch = q.explanation.match(/Reference: Chapter 11, Section ([\d\.]+)/);
                    if (topicMatch) {
                        const topic = `Section ${topicMatch[1]}`;
                        topicMistakes[topic] = (topicMistakes[topic] || 0) + 1;
                    }
                }
            });

            const topicsToPractice = Object.entries(topicMistakes)
                .sort(([,a],[,b]) => b-a)
                .map(([topic, count]) => `<li>${topic} (${count} mistakes)</li>`)
                .join('');


            let resultsHTML = `
                <div class="bg-white p-8 rounded-lg shadow-lg text-center">
                    <h2 class="text-3xl font-bold mb-2">Quiz Results</h2>
                    <p class="text-gray-600 mb-6">Quiz Difficulty: <strong>Tricky</strong></p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-blue-100 p-6 rounded-lg result-card">
                            <p class="text-lg font-semibold text-blue-800">Total Score</p>
                            <p class="text-4xl font-bold text-blue-600">${score} / ${totalMarks}</p>
                            <p class="text-2xl font-bold text-blue-600">${percentage}%</p>
                        </div>
                        <div class="bg-green-100 p-6 rounded-lg result-card">
                            <p class="text-lg font-semibold text-green-800">Correct Answers</p>
                            <p class="text-4xl font-bold text-green-600">${correctAnswersCount}</p>
                        </div>
                        <div class="bg-red-100 p-6 rounded-lg result-card">
                            <p class="text-lg font-semibold text-red-800">Incorrect Answers</p>
                            <p class="text-4xl font-bold text-red-600">${incorrectAnswersCount}</p>
                            <p class="text-lg font-bold text-red-600">${incorrectPercentage}% of total</p>
                        </div>
                    </div>

                    <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-lg mb-8 text-left">
                      <p class="font-bold">Areas for Improvement</p>
                      <p>Based on your mistakes, you should focus more on these topics:</p>
                      <ul class="list-disc list-inside mt-2">${topicsToPractice || '<li>Great job! No specific areas of weakness detected.</li>'}</ul>
                    </div>
                    
                    <button id="retake-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-lg transition duration-300 text-lg">Retake Quiz</button>
                </div>

                <div class="mt-10">
                    <h3 class="text-2xl font-bold mb-4 text-center">Detailed Review</h3>
            `;

            quizData.forEach((q, index) => {
                const userAnswer = userAnswers[index];
                let isCorrect = false;
                if (q.type === 'multiple') {
                    isCorrect = userAnswer && userAnswer.length === q.correct.length && userAnswer.every(val => q.correct.includes(val));
                } else {
                    isCorrect = userAnswer === q.correct[0];
                }

                const resultClass = isCorrect ? 'border-green-500 bg-green-50' : 'border-red-500 bg-red-50';
                const resultIcon = isCorrect ? '<span class="text-green-500 font-bold">âœ” Correct</span>' : '<span class="text-red-500 font-bold">âœ– Incorrect</span>';

                let userAnswerText = 'Not Answered';
                if (userAnswer !== null) {
                    if (q.type === 'multiple') {
                        userAnswerText = userAnswer.map(i => `${String.fromCharCode(65 + i)}. ${q.options[i]}`).join('<br>');
                    } else {
                        userAnswerText = `${String.fromCharCode(65 + userAnswer)}. ${q.options[userAnswer]}`;
                    }
                }

                const correctAnswerText = q.correct.map(i => `${String.fromCharCode(65 + i)}. ${q.options[i]}`).join('<br>');

                resultsHTML += `
                    <div class="mb-6 p-5 border-l-4 ${resultClass} rounded-lg shadow-sm">
                        <p class="font-semibold">${index + 1}. ${q.question}</p>
                        <div class="mt-4 text-sm space-y-3">
                            <p><strong>Your Answer:</strong> ${userAnswerText}</p>
                            <p><strong>Correct Answer:</strong> âœ… ${correctAnswerText}</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md"><strong>ðŸ“– Explanation:</strong> ${q.explanation}</p>
                        </div>
                        <div class="text-right font-bold mt-2">${resultIcon}</div>
                    </div>
                `;
            });
            
            resultsHTML += `
                </div>
                <footer class="text-center mt-12 text-sm text-gray-600">
                    <p>Prepared by:</p>
                    <p>ðŸ”— <a href="https://www.linkedin.com/in/k-m-mahafuzul-alam" target="_blank" class="text-blue-600 hover:underline">https://www.linkedin.com/in/k-m-mahafuzul-alam</a></p>
                    <p>ðŸ“ž WhatsApp: 01728-928984</p>
                    <p>ðŸ“§ Email: kmmhafuzulalam@gmail.com</p>
                </footer>
            `;

            resultsContainer.innerHTML = resultsHTML;
            document.getElementById('retake-btn').addEventListener('click', () => {
                window.location.reload();
            });
        }

        // Initialize the quiz
        startQuiz();
    </script>

</body>
</html>
